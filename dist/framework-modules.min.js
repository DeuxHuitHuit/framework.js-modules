/*! framework.js-modules - v1.16.0 - build 364 - 2019-07-31
 * https://github.com/DeuxHuitHuit/framework.js-modules
 * Copyright (c) 2019 Deux Huit Huit (https://deuxhuithuit.com/);
 * MIT */
!function(w,t,e){"use strict";App.components.exports("algolia-search",function(t){var n,l,c,u,o=window.location.protocol+"//"+window.location.host,e=w("html").attr("lang"),i=0,a={inputSelector:".js-algolia-input",resultsCtnSelector:".js-algolia-results-ctn",resultsContentSelector:".js-algolia-results-content",noResultsTemplateSelector:".js-algolia-no-results-template",resultsItemTemplateSelector:".js-algolia-results-item-template",algoliaAttributesToRetrieve:"title,url,image",algoliaAttributesToHighlight:"title",algoliaSearchableAttributes:[],highlightPreTag:"<em>",highlightPostTag:"</em>",resultsTemplateStringSelector:".js-algolia-results-template-string",facets:null,facetsAttr:"data-algolia-facets",facetFilters:null,facetFiltersAttr:"data-algolia-facet-filters",onCreateResultsTemplatingObject:function(n,t){var e=t.algoliaAttributesToRetrieve?t.algoliaAttributesToRetrieve.split(","):["url","title"];return _.reduce(e,function(t,e){return t[e]=n[e],t[e]&&"url"===e&&(t[e]=t[e].replace(o,"")),t},{})},filterHits:function(t,e,n,o){return n.hits},defaultResultsTemplateString:'<div><a href="__url__">__title__</a></div>',defaultFacets:"lang",defaultFacetFilters:"lang:"+e,defaultRecommandFacets:["facet","lang"],defaultRecommandFacetFilters:["facet:recommend","lang:"+e],defaultRecommandGroup:null,hitsPerPage:20,hitsPerPageAttr:"data-algolia-hits",searchCallback:w.noop,recommendCallback:w.noop,errorCallback:w.noop,clearCallback:w.noop,beforeSearchCallback:w.noop,beforeAppendNewItem:w.noop,recommendResultsLimit:5,recommendHitsPerPage:10,minChar:3,gaCat:"Search",gaAction:"search",gaTimer:1e3,gaIncludePageView:!1,templateSettings:{interpolate:/__(.+?)__/g,evaluate:/_%([\s\S]+?)%_/g,escape:/_%-([\s\S]+?)%_/g},algolia:{app:"",key:"",index:""},inputKeyUpCallback:null,showNoResultsWhenCleared:!1},d=w.extend({},a,t),s=function(t){var e=t.find(d.resultsContentSelector),n=t.find(d.noResultsTemplateSelector).length?t.find(d.noResultsTemplateSelector).html():"";e.append(n)},p=function(o,a,t,e){var n=d.filterHits(o,a,t,e);if(n.length){var i=o.find(d.resultsItemTemplateSelector).length?o.find(d.resultsItemTemplateSelector).text():d.defaultResultsTemplateString,r=_.templateSettings;_.templateSettings=d.templateSettings,i=(i=i.replace(/ _and_ /g," && ")).replace(/%5B/g,"[").replace(/%5D/g,"]");var c=_.template(i);_.each(n,function(t){var e=d.onCreateResultsTemplatingObject(t,d),n=c(e);App.callback(d.beforeAppendNewItem,[o,a,n,e,t]),a.append(n)}),_.templateSettings=r}else e&&e.length>=d.minChar&&s(o)},f=function(t,e,n,o){t.find(d.resultsContentSelector).empty(),App.callback(d.errorCallback,[t,e,d,n,o])},m=function(t,e,n,o){var a=t.find(d.resultsContentSelector);o||a.empty(),p(t,a,e,n),clearTimeout(i),i=setTimeout(function(){!function(t,e){d.gaCat&&(w.sendEvent(d.gaCat,d.gaAction,t,e),d.gaIncludePageView&&w.sendPageView({page:window.location.pathname+"?q="+t}))}(n,e&&e.nbHits||0)},d.gaTimer),App.callback(d.searchCallback,[t,e,d,n])},g=function(t){return _.map(t,function(t){return t.query})},r=function(t,e,o,n){var a=[],i=e||c.val(),r=parseInt(t,10)||0;App.callback(d.beforeSearchCallback,[{resultsCtn:u}]),n.each(function(){var t=w(this);a.push(function(t,e,n){var o=d.facets||(n.attr(d.facetsAttr)?n.attr(d.facetsAttr).split(","):d.defaultFacets),a=d.facetFilters||(n.attr(d.facetFiltersAttr)?n.attr(d.facetFiltersAttr).split(","):d.defaultFacetFilters),i=1<e.split(" ").length;e=i?'"'+e+'"':e;var r={page:t,facets:o,hitsPerPage:parseInt(n.attr(d.hitsPerPageAttr),10)||d.hitsPerPage,attributesToRetrieve:d.algoliaAttributesToRetrieve,attributesToHighlight:d.algoliaAttributesToHighlight,restrictSearchableAttributes:d.algoliaSearchableAttributes,highlightPreTag:d.highlightPreTag,highlightPostTag:d.highlightPostTag};return n.filter("[data-algolia-filters-mode=filters]").length?r.filters=encodeURI(a):r.facetFilters=a,{scope:n,query:{indexName:d.algolia.index,query:e,advancedSyntax:i,params:r}}}(r,i,t))}),l.search(g(a),function(e,n){e?_.each(a,function(t){f(t.scope,n,i,e)}):_.each(n.results,function(t,e){m(a[e].scope,t,i,o)})})},h=function(t,e,n){r(t,e,n,u)},v=function(){u.each(function(){w(this).find(d.resultsContentSelector).empty(),d.showNoResultsWhenCleared&&s(w(this))}),App.callback(d.clearCallback,[u,d])},y=function(){c.val().length>=d.minChar?h():v(),App.callback(t.inputKeyUpCallback)};return{init:function(t){n=w(t),c=n.find(d.inputSelector),u=n.find(d.resultsCtnSelector),l=window.algoliasearch(d.algolia.app,d.algolia.key),c.on("keyup",y)},search:h,searchByContainer:r,recommend:function(c,e){var s=[];c&&c.length||!App.debug()?App.debug()&&u.prepend(w("<div />").text("Search terms: "+c.join(", ")).css({background:"rgba(0, 0, 250, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})):(u.prepend(w("<div />").text("No recommend terms (categories) found. Defaults to all").css({background:"rgba(255, 100, 0, 0.6)",color:"#EEE",fontSize:"16px",padding:"10px",margin:"10px 0"})),c=["*"]),u.each(function(){var n=w(this),o=n.attr(d.facetsAttr)?n.attr(d.facetsAttr).split(","):[].concat(d.defaultRecommandFacets),a=n.attr(d.facetFiltersAttr)?n.attr(d.facetFiltersAttr).split(","):[].concat(d.defaultRecommandFacetFilters),t=n.attr(e)?n.attr(e):[].concat(d.defaultRecommandGroup);t&&(o.push("recommendFacet"),a.push("recommendFacet:"+t)),App.debug()&&n.prepend(w("<div />").text(t?"Results segmented by `"+t+"`":"Results not segmented").css({background:"rgba(255, 200, 0, 0.6)",color:"#333",fontSize:"16px",padding:"10px",margin:"10px 0"})),s=s.concat(_.map(c,function(t,e){return{scope:n,query:{indexName:d.algolia.index,query:t,customRanking:["desc(rating."+t+".r)"],ranking:["custom","typo"],params:{facets:o,facetFilters:a,hitsPerPage:d.recommendHitsPerPage,typoTolerance:!1,attributesToRetrieve:d.algoliaAttributesToRetrieve,attributesToHighlight:d.algoliaAttributesToHighlight,restrictSearchableAttributes:["recommend"]}}}}))}),s&&s.length?l.search(g(s),{strategy:"stopIfEnoughMatches"},function(e,r){if(e)return u.remove(),void _.each(s,function(t){f(t.scope,r,s.join("+"),e)});u.each(function(){var o=w(this),t=_.reduce(r.results,function(t,e,n){return s[n].scope.is(o)&&(t=t.concat(_.map(e.hits,function(t){return t.results=e,t})),delete e.hits),t},[]),e=_.reduce(t,function(t,e,n){return-1!==window.location.toString().indexOf(e.url)||(t[e.url]?t[e.url].push(e):t[e.url]=[e]),t},{}),n=_.map(e,function(t,e){var n=t[0];return n.computedRating=_.reduce(t,function(t,e){var n="*"===e.results.query?"_global":e.results.query;return e.rating&&e.rating[n]?t+e.rating[n].r:t},0),n}),a=_.sortBy(n,function(t){return-t.computedRating}).slice(0,d.recommendResultsLimit),i={nbHits:a.length,hits:a};!function(t,e,n){var o=t.find(d.resultsContentSelector);o.empty(),p(t,o,e,n),App.callback(d.recommendCallback,[o,e,d,n])}(o,i,c),App.debug()&&!i.nbHits&&o.prepend(w("<div />").text("No result found").css({background:"rgba(255, 0, 0, 0.6)",padding:"10px",margin:"10px 0",color:"#EEE",fontSize:"16px"}))})}):App.debug()||n.remove()},updateInputVal:function(t){c.val(t)},focus:function(){c.focus()},blur:function(){c.blur()},getVal:function(){return c.val()},getInput:function(){return c},clear:v}})}(jQuery,jQuery(window)),function(s){"use strict";App.components.exports("animation",function(t){var e=s(),n=null,o=!1,a={renderer:"svg",loop:!1},i=function(){n=window.lottie.loadAnimation(function(){var t,i=new RegExp("^animation");return t=_.reduce(e.data(),function(t,e,n){if(i.test(n)){if(_.isObject(e))return t;var o=n.replace(i,""),a="";o&&o[0]&&(a=o[0].toLowerCase(),2<=o.length&&(a+=o.substr(1)),t[a]=e)}return t},{}),_.assign({wrapper:e.get(0)},a,t)}()),o=!0},r=function(){return!!window.lottie},c=function(){return!!n};return{init:function(t){e=t,App.loaded(r,i)},inited:c,play:function(){o||(n.play(),o=!0)},playing:function(){return c()&&o},pause:function(){o&&(n.pause(),o=!1)},stop:function(){n.stop(),o=!1},setSpeed:function(t){n.setSpeed(t)},goToAndStop:function(t,e){n.goToAndStop(t,e)},goToAndPlay:function(t,e){n.goToAndPlay(t,e)},setDirection:function(t){n.setDirection(t)},playSegments:function(t,e){n.playSegments(t,e)},destroy:function(){n.destroy(),n=null,o=!1},get:function(){return e}}})}(jQuery),function(a,t,e,n){"use strict";var i={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var o=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return a(o,a(t))},appendArticle:function(t,e,n,o){var a=o.findArticle(e,n,o);return a.hide(),t.append(a),a},startAnimToArticle:function(t,e,n,o){t.length?(t.closest(n.containerSelector).css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),o(t,e,n)})):o(t,e,n)},endAnimToArticle:function(t,e,n){var o=e.closest(n.containerSelector);n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering"),e.fadeTo(500,1,function(){n.articleEnter(t,e,n),o.css({minHeight:""})})},trackHandle:!0,twoStepAnim:!0,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{item:e,article:e})}};App.components.exports("articleChanger",function(){var s,n,l,o,u,d=!1,p=!1,f="",m=function(t,e,n){p=!1,d||n.endAnimToArticle(t,e&&e.length?e:u,n)},g="";return{init:function(t,e){n=t,s=a.extend({},i,e),l=a(s.containerSelector,n),o=s.startPageHandle},clear:function(){o=""},navigateTo:function(i,t){var r=s.findArticle(l,o,s);g=t||window.location.href;var e=function(t,e,n){if(d=!1,g===f){u=s.appendArticle(l,t,i,s);var o=window.location,a=o.href.substring(o.hostname.length+o.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:a,data:t}),u.length?p||(s.twoStepAnim?s.endAnimToArticle(r,u,s):s.startAnimToArticle(r,u,s,m)):App.log({args:["Could not find new article with this handle: ",i||"(empty handle)"],fx:"error",me:"Article Changer"})}else d=!0,c()},c=function(){App.mediator.notify("pageLoad.start",{page:n}),f=g,Loader.load({url:g,priority:0,vip:!0,success:e,progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(t){App.mediator.notify("pageLoad.end"),d=!1,App.mediator.notify("articleChanger.loaderror",{jqXHR:t})},giveup:function(t){App.mediator.notify("pageLoad.end"),d=!1,App.log("Article changer load giveup")}})};return!(s.trackHandle&&o===i||((u=s.trackHandle?s.findArticle(l,i,s):null)&&u.length?s.startAnimToArticle(r,u,s,m):(d=!0,s.twoStepAnim&&(p=!0,s.startAnimToArticle(r,u,s,m)),c()),o=i,0))},getHandle:function(){return o}}})}(jQuery,window,document),function(i,t,e,n){"use strict";var r={articleSelector:".js-article",containerSelector:".js-article-ctn",findArticle:function(t,e,n){e=e||"";var o=n.articleSelector+(n.trackHandle?'[data-handle="'+e+'"]':"");return i(o,i(t))},appendArticle:function(t,e,n,o){var a=o.findArticle(e,n,o);return a.hide(),t.append(a),a},animToArticle:function(t,e,n){if(t.length){var o=t.closest(n.containerSelector);o.css({minHeight:t.height()+"px"}),t.fadeTo(500,0,function(){t.hide(),n.scrollToTop&&App.mediator.notify("window.scrollTop",{animated:!1}),App.mediator.notify("articleChanger.entering",{article:e,ctn:o}),e.fadeTo(500,1,function(){o.css({minHeight:""})}),setTimeout(function(){n.articleEnter(t,e,n)},100)})}else e.fadeTo(500,1),n.articleEnter(t,e,n)},trackHandle:!0,scrollToTop:!1,articleEnter:function(t,e,n){n.trackHandle||t.remove(),App.mediator.notify("articleChanger.enter",{article:e})}};App.components.exports("articleChanger",function(){var s,o,l,a;return{init:function(t,e){o=t,s=i.extend({},r,e),l=i(s.containerSelector,o),a=s.startPageHandle},clear:function(){a=""},navigateTo:function(r,t){var e,c=s.findArticle(l,a,s),n=t||window.location.href;s.trackHandle&&a===r||(s.trackHandle&&(e=s.findArticle(l,r,s)),e&&e.length?s.animToArticle(c,e,s):(App.mediator.notify("pageLoad.start",{page:o}),Loader.load({url:n,priority:0,vip:!0,success:function(t,e,n){var o=s.appendArticle(l,t,r,s),a=window.location,i=a.href.substring(a.hostname.length+a.protocol.length+2);App.mediator.notify("pageLoad.end"),App.mediator.notify("articleChanger.loaded",{url:i,data:t}),o.length?s.animToArticle(c,o,s):App.log({args:"Could not find new article",fx:"error",me:"Article Changer"})},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(){App.mediator.notify("article.loaderror"),App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})),a=r)}}})}(jQuery,window,document),function(r,t,e){"use strict";var n={checkPoints:[0,25,50,75,90,100],category:"Scroll",action:"scroll",checkPointReached:r.noop};App.components.exports("checkpoint-event",function(t){var o=r.extend({},n,t),a=0,i=!0,e=function(){a=0};return{init:function(t){o=r.extend(o,t),e()},track:function(t){if(i&&r.isNumeric(o.checkPoints[a])&&r.isNumeric(t)&&o.checkPoints[a]<=t){var e=o.action+" "+o.checkPoints[a]+"%",n=o.label||e;o.category&&r.sendEvent(o.category,e,n,o.checkPoints[a]),App.callback(o.checkPointReached,[a,o.checkPoints[a]]),a++}},reset:e,enable:function(){i=!0},disable:function(){i=!1}}})}(jQuery,jQuery(window)),function(d,t,e){"use strict";App.components.exports("flickity",function(t){var e,n=d(),i=!1,r=d.extend({},{sliderCtn:".js-flickity-slider-ctn",cellSelector:".js-flickity-cell",navBtnSelector:".js-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",seenClass:"is-seen",dataAttrPrefix:"flickity",aborted:null},t),c=function(){var t=n.data("flickity");return t?n.find(r.cellSelector).eq(t.selectedIndex):d()},s=function(){c().addClass(r.seenClass),n.find(r.cellSelector+"."+r.seenClass).each(function(){n.find(".flickity-page-dots li").eq(d(this).index()).addClass(r.seenClass)})},l=function(){n.flickity("playPlayer"),n.attr("tabindex",n.data("acc-tabindex")||"0")},u=function(){n.flickity("pausePlayer")},o=function(o){var a=function(){var t,i=new RegExp("^"+r.dataAttrPrefix);return t=_.reduce(n.data(),function(t,e,n){if(i.test(n)){if(_.isObject(e))return t;var o=n.replace(i,""),a="";o&&o[0]&&(a=o[0].toLowerCase(),2<=o.length&&(a+=o.substr(1)),t[a]=e)}return t},{}),d.extend({},r,t)}();(o.flickity(a),o.flickity("resize"),o.addClass(r.initedClass),i=!0,o.find(".flickity-page-dots li").attr("tabindex","0").keydown(function(t){if(t.which===window.keys.enter){var e=d(this);o.flickity("select",e.index()),e.focus()}}),o.find(".flickity-page-dots li").each(function(t){var e=d(this),n=o.find(r.cellSelector).eq(t).attr("aria-label");n&&e.attr("aria-label",n)}),o.on("blur",function(){o.data("acc-tabindex",o.attr("tabindex")),o.removeAttr("tabindex")}).on("settle.flickity",function(){var t=c();o.find(r.cellSelector).removeAttr("tabindex"),o.find("button, a").attr("tabindex","-1"),t.add(t.find("button, a")).attr("tabindex","0"),a.autoPlay&&a.restartAutoplayOnMouseleave&&d.mobile&&l()}),a.pageDots&&o.on("settle.flickity",s),o.find("img[data-src-format]").jitImage(),a.pauseOnFocus)&&(o.attr("tabindex")||o.attr("tabindex","0"),o.on("focus",function(t){o.flickity("pausePlayer")}).on("focus","*",function(t){o.flickity("pausePlayer")}));a.pauseOnInit&&o.flickity("pausePlayer"),a.autoPlay&&a.restartAutoplayOnMouseleave&&!d.mobile&&o.on("mouseleave",l),window.IntersectionObserver&&(e=new window.IntersectionObserver(function(t){var e=t[0],n=!!a.autoPlay||!!a.autoPlayWhenVisible;e&&(e.isIntersecting&&n?l():e.isIntersecting||u())})).observe(o.get(0))};return{init:function(t){1<(n=t).find(r.cellSelector).length?(o(n),App.callback(r.inited)):(1===n.find(r.cellSelector).length?(n.addClass(r.abortedClass),n.find(r.cellSelector).addClass(r.selectedClass)):App.log({me:"Flickity",args:["No flickity cell found in the scope",n]}),App.callback(r.aborted))},resize:function(){n.flickity("resize")},destroy:function(){n.hasClass(r.initedClass)&&0<n.closest("body").length&&(n.flickity("destroy"),n.removeClass(r.initedClass),n.off("settle.flickity",s),n.off("mouseleave",l),n.off("focus").off("focus","*"),n.off("blur").attr("tabindex",n.data("acc-tabindex")||"0"),e&&(e.disconnect(),e=null),n=d(),App.callback(r.destroyed))},isInited:function(){return i},unpause:function(){n.flickity("unpausePlayer")},pause:u}})}(jQuery,jQuery(window)),function(v,y,t){"use strict";var w={container:".js-form-field",input:".js-form-field-input",hint:".js-form-field-hint",label:".js-form-field-label",preview:".js-form-field-preview",validationEvents:"blur change",emptinessEvents:"blur keyup change",previewEvents:"change input",formatEvents:"blur",changeLabelTextToFilename:!0,onlyShowFirstHint:!1,group:null,rules:{required:{presence:!0},email:{email:!0},money:{numericality:{onlyInteger:!1,greaterThan:0}},integer:{numericality:{onlyInteger:!0,greaterThan:0}},document:{format:{pattern:"^.+\\.(?:docx?|pdf)$",flags:"i"},presence:{allowEmpty:!0}},image:{format:{pattern:"^.+\\.(?:jpe?g|png)$",flags:"i"},presence:{allowEmpty:!0}},phoneUs:{format:{pattern:"\\+?1?[- ]?\\(?[0-9]{3}\\)?[- ]?[0-9]{3}[- ]?[0-9]{4}",flags:"i"}},url:{url:!0},embed:{format:{pattern:"^http(.+)(youtube\\.com|youtu\\.be|vimeo\\.com|facebook\\.com)(.+)$",flags:"i"}},confirmEmail:{sameAs:{target:'input[name="form[email]"]'}},date:{datetime:{dateOnly:!0}}},rulesOptions:{},formatters:{},onFocus:null,onBlur:null,onKeyup:null,onKeydown:null,onChangeOrInput:null},A=null;window.moment?A={rules:{over18Now:{datetime:{dateOnly:!0,earliest:window.moment.utc().subtract(150,"years"),latest:window.moment.utc().subtract(18,"years")}}}}:App.log("com::form-field: Extended date rules are not available. Add Moment.js to enable them."),App.components.exports("form-field",function(i){var r,c,n,a,o,s=[],e=!1;i=v.extend(!0,{},w,A,i);var l=function(o,t){if(o.empty(),t&&y.FileReader&&(i.changeLabelTextToFilename&&(t&&t.name?a.text(t.name):a.text(a.attr("data-text"))),_.contains(t.type.split("/"),"image"))){var e=new y.FileReader;e.onload=function(t){var e=t.target.result;if(e){var n=v("<img />").attr("class",o.attr("data-preview-class")).attr("src",e).on("error",function(){n.remove()});o.append(n)}},e.readAsDataURL(t)}},u=function(){var o,t,a;if("checkbox"==c.attr("type"))o=c.prop("checked")?"true":"";else if("radio"==c.attr("type")){var e=c.closest("form").find("input[type='radio'][name='"+c.attr("name")+"']:checked");o=e.length?e.prop("checked")?e.val():"":c.prop("checked")?c.val():""}else c.hasClass("js-form-field-radio-list")?(t=c.find("input[type='radio']:checked"),a=t.length,t.each(function(t){var e=v(this),n=e.closest(".js-form-field-radio-ctn").find("label");e.prop("checked")&&(o||(o=""),o+=n.text(),t<a-1&&(o+=", "))})):c.hasClass("js-form-field-checkbox-list")?(t=c.find("input[type='checkbox']:checked"),a=t.length,t.each(function(t){var e=v(this),n=e.closest(".js-form-field-checkbox-ctn").find("label");e.prop("checked")&&(o||(o=""),o+=n.text(),t<a-1&&(o+=", "))})):o=c.val();return o},d=function(){var t=u();App.modules.notify("changeState.update",{item:r,state:"filled",action:t?"on":"off"}),App.modules.notify("changeState.update",{item:r,state:"empty",action:t?"off":"on"})},p=function(t){var e=r.find(i.preview);if("file"==c.attr("type")&&(d(),e.length)){var n=!!t&&!!t.target.files&&t.target.files[0];n=n||c[0].files&&c[0].files[0],l(e,n)}},f=function(t){try{var e={},n={};_.each(s,function(t){i.rules[t]&&(e=v.extend(e,i.rules[t])),i.rulesOptions[t]&&(n=v.extend(n,i.rulesOptions[t]))});var o=y.validate.single(t,e,n);if(r.hasClass("js-input-file"))if(!function(t){return!t||parseInt(t)<2097152}(r.attr("data-form-file-size"))){App.log("error-size"),o||(o=[]);var a=r.closest("form").attr("data-msg-file-exceed-size");o.push(a)}return o}catch(t){App.log({fx:"error",args:[t]})}return!1},m=function(){_.each(s,function(t){i.formatters[t]&&i.formatters[t](c,o)})},g=function(){var t=f(u());App.modules.notify("changeState.update",{item:r,state:"invalid",action:t?"on":"off"}),App.modules.notify("changeState.update",{item:r,state:"valid",action:t?"off":"on"});var e=t?i.onlyShowFirstHint?t[0]:t.join(". "):"";if(n.html(e),t)return{result:t,field:o,hintMessages:e}},h=function(t){var e=!!t&&!!t.target.files&&t.target.files[0];(e=e||c[0].files&&c[0].files[0])?r.attr("data-form-file-size",e.size):r.removeAttr("data-form-file-size")};return o={init:function(t){i=v.extend(!0,i,t),r=v(i.container),c=r.find(i.input),n=r.find(i.hint),a=r.find(i.label),s=_.filter((r.attr("data-rules")||"").split(/[|,\s]/g)),e=c.hasClass("js-form-field-checkbox-list")||c.hasClass("js-form-field-radio-list"),i=_.assign(i,function(t){var i=new RegExp("^formField");return _.reduce(t.data(),function(t,e,n){if(i.test(n)){if(_.isObject(e))return t;var o=n.replace(i,""),a="";o&&o[0]&&(a=o[0].toLowerCase(),2<=o.length&&(a+=o.substr(1)),t[a]=e)}return t},{})}(r)),function(){var t;i.formatEvents&&c.on(i.formatEvents,m),i.validationEvents&&c.on(i.validationEvents,g),i.emptinessEvents&&c.on(i.emptinessEvents,d),i.previewEvents&&c.on(i.previewEvents,p),v.isFunction(i.onKeyup)&&c.on("keyup",function(t){i.onKeyup({field:o,e:t})}),v.isFunction(i.onKeydown)&&c.on("keyup",function(t){i.onKeydown({field:o,e:t})}),v.isFunction(i.onChangeOrInput)&&c.on("change input",function(t){i.onChangeOrInput({field:o,e:t})}),r.find("[selected]").length&&d(),r.hasClass("js-input-file")&&c.on("change input",h),t=c,e?t=c.find('input[type="radio"],input[type="checkbox"]'):r.hasClass("js-form-field-file")&&(t=r.find(".js-form-field-label-ctn")),t.on("focus",function(){App.modules.notify("changeState.update",{item:r,state:"focused",action:"on"}),v.isFunction(i.onFocus)&&i.onFocus({field:o})}),t.on("blur",function(){App.modules.notify("changeState.update",{item:r,state:"focused",action:"off"}),v.isFunction(i.onBlur)&&i.onBlur({field:o})})}(),d(),r.data("form-field-component",o)},validate:g,format:m,enable:function(t){t?c.enable():c.disable()},focus:function(){c.focus()},reset:function(){if(App.modules.notify("changeState.update",{item:r,state:"valid",action:"off"}),App.modules.notify("changeState.update",{item:r,state:"invalid",action:"off"}),App.modules.notify("changeState.update",{item:r,state:"filled",action:"off"}),App.modules.notify("changeState.update",{item:r,state:"focused",action:"off"}),App.modules.notify("changeState.update",{item:r,state:"empty",action:"on"}),"file"==c.attr("type")){if(i.changeLabelTextToFilename)a.text(a.attr("data-text"));else{var t=r.find(".js-filename"),e=r.attr("data-default-text-filename");t.text(e)}l(r.find(i.preview),null)}},preview:p,scrollTo:function(t){v.scrollTo(r,t)},updateOptions:function(t){i=_.assign({},i,t)},group:function(){return i.group},isValid:function(){return!f(u())},isRequired:function(){return!!~s.indexOf("required")},isEmpty:function(){return y.validate.isEmpty(u())},getCtn:function(){return r},getInput:function(){return c},getName:function(){return c.attr("name")},getValue:u}})}(jQuery,window),function(d,p,t){"use strict";var f={root:"body",container:".js-form",fields:".js-form-field",fieldsGroupSelector:".js-form-field-group",fieldsOptions:{},onSubmit:null,doSubmit:null,onValid:null,onError:null,disableOnSubmit:!0,focusOnError:!0,post:{},gaCat:"conversion",gaLabel:"form"};App.components.exports("form",function(a){var i,r=[],n=!1;a=d.extend(!0,{},f,a);var o=function(){return _.map(r,function(t){return t.validate()})},c=function(t){return!!(t=t||o()).length&&!_.some(t)||!t.length},s=function(e){_.each(r,function(t){t.enable(e)})},l=function(){var t={},e=!window.FormData;n||(e?d.each(i.serializeArray(),function(){t[this.name]=this.value}):t=new FormData(i.get(0)),n=!0,App.callback(a.post.submitting),window.Loader.load({url:i.attr("action"),type:i.attr("method")||"POST",data:t,processData:e,contentType:!1,dataType:"text",error:a.post.error,success:a.post.success,complete:function(){App.callback(a.post.complete),n=!1,App.modules.notify("changeState.update",{item:i,state:"submitting",action:"off"}),a.disableOnSubmit&&s(!0)}}))},e=function(t){var e=o();return App.callback(a.onSubmit),App.modules.notify("changeState.update",{item:i,state:"submitting",action:"on"}),c(e)?(App.callback(a.onValid),!0===App.callback(a.onBeforePost,[t])?p.pd(t):(a.post?l():App.callback(a.doSubmit),a.disableOnSubmit&&s(!1),a.post||a.doSubmit?p.pd(t):void 0)):(App.callback(a.onError,{results:e}),a.focusOnError&&(e=_.filter(e)).length&&e[0].field.focus(),p.pd(t))},u=function(t,e){e=d(e);var n=App.components.create("form-field",a.fieldsOptions);n.init({container:e,group:e.closest(a.fieldsGroupSelector)}),r.push(n)};return{init:function(t){if((a=d.extend(!0,a,t)).root=d(a.root),i=a.root.find(a.container),p.validate){i.find(a.fields).each(u),i.submit(e),a.focusOnFirst&&setTimeout(function(){r[0].focus()},100),p.validate.validators.presence.options={message:i.attr("data-msg-required")},p.validate.validators.email.options={message:i.attr("data-msg-email-invalid")||i.attr("data-msg-invalid")},p.validate.validators.format.options={message:i.attr("data-msg-invalid")},p.validate.validators.numericality.options={message:i.attr("data-msg-invalid")},p.validate.validators.url.options={message:i.attr("data-msg-invalid")};var o="DD-MM-YYYY";window.moment&&p.validate.extend(p.validate.validators.datetime,{parse:function(t,e){if(!t)return NaN;if(p.moment.isMoment(t))return+t;if(/[^\d-\/]/.test(t))return NaN;var n=p.moment.utc(t,o);return n.isValid()?+n:NaN},format:function(t,e){return p.moment.isMoment(t)||(t=p.moment(t)),t.format(o)},message:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),notValid:i.attr("data-msg-date-invalid")||i.attr("data-msg-invalid"),tooEarly:i.attr("data-msg-date-too-early")||i.attr("data-msg-invalid"),tooLate:i.attr("data-msg-date-too-late")||i.attr("data-msg-invalid")})}else App.log({fx:"error",me:"Component Form",args:"Validate.js not found. Initialization stopped."})},enable:s,reset:function(){i.get(0).reset(),_.each(r,function(t){t.reset()}),App.modules.notify("changeState.update",{item:i,state:"submitting",action:"off"})},preview:function(){_.each(r,function(t){t.preview()})},post:l,validate:o,validateGroup:function(t){var e=[];return d.each(r,function(){this.group().is(t)&&e.push(this)}),_.map(e,function(t){return t.validate()})},isValid:c,track:function(t,e,n){var o=i.attr("data-ga-form-cat")||a.gaCat;e=e||i.attr("data-ga-form-label")||a.gaLabel,d.sendEvent(o,t,e,n)},getContainer:function(){return i},getFields:function(){return r},getOptions:function(){return a}}})}(jQuery,window),function(m,t,g,e){"use strict";App.components.exports("googleMap",function(t){var o,a,e,i=[],n=!1,r="https://maps.googleapis.com/maps/api/js?key="+m("[data-gmap-key]").attr("data-gmap-key"),c=function(){e&&e.infowindow.close()},s={selectorCtn:"",defaultMarkerOptions:{},mapTypeId:null,zoom:10,markerAction:function(){var t=new google.maps.LatLng(this.getPosition().lat()+.005,this.getPosition().lng());a.panTo(t),c(),this.infowindow.open(a,this),e=this},beforeCreate:null,afterCreate:null,boundsChanged:null,dragBoundsChanged:null,dragBoundsChangedDelay:250,drag:null,styles:[]},l=m.extend({},s,t),u=function(){return!!g.google&&!!google.maps&&!!google.maps.Geocoder},d=function(){return!!g.google&&!!google.maps&&!!google.maps.Map},p=function(){o.hasClass("map-loaded")||(function(){if(App.callback(l.beforeCreate,[google.maps,l,o]),l.center&&(l.center=new google.maps.LatLng(l.center.latitude,l.center.longitude)),google.maps.MapTypeId[l.mapTypeId]?l.mapTypeId=google.maps.MapTypeId[l.mapTypeId]:l.mapTypeId=google.maps.MapTypeId.ROADMAP,a=new google.maps.Map(o.get(0),l),l.boundsChanged&&google.maps.event.addListener(a,"bounds_changed",function(){var t=a.getBounds();App.callback(l.boundsChanged,[t])}),l.dragBoundsChanged){var t=_.debounce(function(){var t=a.getBounds();App.callback(l.dragBoundsChanged,[t])},l.dragBoundsChangedDelay);google.maps.event.addListener(a,"dragend",t)}l.drag&&google.maps.event.addListener(a,"drag",function(){var t=a.getBounds();App.callback(l.drag,[t])}),google.maps.event.addListenerOnce(a,"idle",function(){n=!0,App.callback(l.ready,[google.maps])}),App.callback(l.afterCreate,[google.maps])}(),o.addClass("map-loaded"))},f=function(t){t=t||m.noop,window.isMapApiLoaded?t():(m.getScript(r).then(function(){m.getScript("https://cdn.jsdelivr.net/gh/googlemaps/v3-utility-library@4cd67683a905265bfe5108205d8fff676eced4d8/infobox/src/infobox_packed.js").then(t)}),window.isMapApiLoaded=!0)};return{init:function(t,e,n){l=m.extend(l,e),o=t.find(l.selectorCtn);f(function(){App.loaded(d,function(){p(),App.callback(n)},40)})},loadDeps:f,addMarker:function(t){var e=m.extend({},l.defaultMarkerOptions,t);e.iconImage&&(e.iconImage=new google.maps.MarkerImage(e.iconImage.src,new google.maps.Size(e.iconImage.size.width,e.iconImage.size.height),new google.maps.Point(e.iconImage.p1.x,e.iconImage.p1.y),new google.maps.Point(e.iconImage.p2.x,e.iconImage.p2.y))),e.position&&(e.LatLng=new google.maps.LatLng(e.position.latitude,e.position.longitude));var n=new google.maps.Marker({position:e.LatLng,map:a,icon:e.iconImage,shadow:e.iconShadow,zIndex:e.zIndex,animation:e.animation,optimized:!1});return i.push(n),e.content&&e.content.length?(n.infowindow=new google.maps.InfoWindow({content:e.content}),google.maps.event.addListener(n,"click",l.markerAction)):e.markerCustomAction?google.maps.event.addListener(n,"click",function(){App.callback(e.markerCustomAction,[a,n])}):l.markerCustomAction&&google.maps.event.addListener(n,"click",function(){App.callback(l.markerCustomAction,[a,n])}),n},center:function(t,e){a.panTo(new google.maps.LatLng(t,e)),App.log("[map] center "+t+", "+e)},zoom:function(t){a.setZoom(t),App.log("[map] zoom "+t)},fitBounds:function(t,e){a.fitBounds(new google.maps.LatLngBounds(t.southwest,t.northeast),e),App.log("[map] fitBound "+t.southwest.lng()+", "+t.southwest.lat()+" - "+t.northeast.lng()+", "+t.northeast.lat())},bounds:function(){return a.getBounds()},decZoom:function(){a.setZoom(Math.min(1,a.getZoom()-1)),App.log("[map] decZoom")},closeAllPopup:c,setMarkerVisibility:function(t,e){t.setVisible(e)},getMarkers:function(){return i},geolocAddress:function(t,o){App.loaded(u,function(){var n;(new google.maps.Geocoder).geocode(t,function(t,e){e==google.maps.GeocoderStatus.OK&&(n=t[0].geometry.location),App.callback(o,[n,t])})},40)},googleMap:function(){return d()},mapIsReady:function(){return d()&&!!a&&!!n},addListenerOnce:function(t,e){return google.maps.event.addListenerOnce(a,t,e)},getZoom:function(){return a.getZoom()}}})}(jQuery,jQuery(window),window),function(c,t,e){"use strict";App.components.exports("infinite-scroll",function(t){var i,e=c(window),n=e.height(),o={ctnSelector:".js-infinite-scroll-ctn",contentCtnSelector:".js-infinite-scroll-content",pagerLinkSelector:".js-infinite-scroll-pager-link",triggerPercentage:.5,callback:c.noop},r=c.extend({},o,t),a=function(o){if(i.length){var t=i.find(r.pagerLinkSelector);if(t.length){var a=t.attr("href");t.remove(),App.mediator.notify("pageLoad.start"),window.Loader.load({url:a,success:function(t,e,n){!function(t,e,n){var o=i.find(r.contentCtnSelector),a=c(t);o.length?o.append(a.find(r.contentCtnSelector+" > *")):i.append(a.find(r.ctnSelector+" > *")),i.find("img[data-src-format]").jitImage()}(t),App.modules.notify("page.replaceState",{title:document.title,url:a}),App.mediator.notify("infiniteScroll.pageLoaded",{data:t,ctn:i,url:a}),App.callback(o,[i,a,t,e,n,r]),App.mediator.notify("pageLoad.end")},progress:function(t){var e=t.originalEvent.total,n=t.originalEvent.loaded,o=0<e?n/e:0;App.mediator.notify("pageLoad.progress",{event:t,total:e,loaded:n,percent:o})},error:function(){App.mediator.notify("pageLoad.end")},giveup:function(t){App.mediator.notify("pageLoad.end")}})}}};return{init:function(t,e){r=c.extend(r,e),i=t.find(r.ctnSelector)},resize:function(){n=e.height()},scroll:function(){if(n=e.height(),i.length){var t=(e.scrollTop()-(i.offset().top+i.height())+n)/n;t>=-r.triggerPercentage&&t<=1&&a(r.callback)}},loadNextPage:function(t,e){a(e.callback)}}})}(jQuery,jQuery(window)),function(c,t,e){"use strict";App.components.exports("jplayer",function(t){var e,r=c.extend({},{playerSelector:".js-jplayer-player",playerContainerSelector:".js-jplayer-container",onReady:null,onTimeupdate:null,backgroundColor:"transparent",loop:!0,width:1920,height:1080,resize:!0},t),o=function(t){var e=t.width(),n=t.height(),o=t.find(r.playerSelector),a=c.sizing.aspectFill({width:e,height:n,preferWidth:!1},r.width/r.height);a.height=Math.ceil(a.height),a.width=Math.ceil(a.width);var i=c.positioning.autoPosition({position:"center",left:"left",top:"top"},c.size(e,n),a);o.size(a).css(i).data({size:a,position:i}),o.jPlayer("option",{size:a})},n=function(n){n.find(r.playerSelector).jPlayer({ready:function(){c(this).jPlayer("setMedia",{webmv:n.attr("data-video-webm"),m4v:n.attr("data-video-mp4"),ogv:n.attr("data-video-ogv")}),r.resize&&o(n),App.callback(r.onReady,[n])},solution:"html",loop:r.loop,volume:0,supplied:"webmv, m4v, ogv",backgroundColor:r.backgroundColor,wmode:r.backgroundColor,size:{width:r.width,height:r.height},preload:r.preload||"none",play:function(t){App.mediator.notify("jplayer.play",{ctn:n})},timeupdate:function(t){var e=t.jPlayer.status;e.currentTime&&App.mediator.notify("jplayer.timeupdate",{status:e,ctn:n}),App.callback(r.onTimeupdate,[n,e])},ended:function(){App.callback(r.onEnded,[n])}})},a=function(t){var e=t.find(r.playerSelector);e.jPlayer("destroy"),e.jPlayer("pauseOthers")};return{init:function(t){e=c(t)},loadAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);n(t)})},loadVideo:n,destroyVideo:a,destroyAllVideo:function(){e.find(r.playerContainerSelector).each(function(){var t=c(this);a(t),t.removeClass("video-loaded").closest(".video-loaded").removeClass("video-loaded")})},playVideo:function(t){var e=t.find(r.playerSelector);e.jPlayer("pauseOthers"),e.jPlayer("play")},pauseVideo:function(t){t.find(r.playerSelector).jPlayer("pause")},stopVideo:function(t){t.find(r.playerSelector).jPlayer("stop")},resizeVideo:o,resizeAllVideo:function(){e.find(r.playerContainerSelector).each(function(){o(c(this))})},setVolume:function(t,e){t.find(r.playerSelector).jPlayer("volume",e)}}})}(jQuery,jQuery(window)),function(s,t,e){"use strict";var l={embed:function(t,e){var n=parseInt(t.attr("data-autoplay"),10),o=parseInt(t.attr("data-loop"),10),a="1"===t.attr("data-rel")?1:0,i=t.attr("data-extra"),r=this.getIframe(e,n,o,a,i);return r.attr("width","100%"),r.attr("height","100%"),r.attr("frameborder","0"),r.attr("class",t.attr("data-player-class")),t.append(r),r},getIframe:function(t){return s('<iframe allowfullscreen="" />')},getTemplateContent:function(t){var e=t.find("script");return _.map(e.contents(),function(t){return s(t).text()}).join("")},play:s.noop,pause:s.noop,ready:s.noop,progress:s.noop,volume:s.noop,finish:s.noop,destroy:function(t){t.remove()},requiresVideo:function(){return!1}},u={abstractProvider:l};App.components.exports("oembed",function(n){var t=s(n.container),o=s(n.player),a=o.data("oembedId"),i=o.data("oembedProvider"),r=u[i],c=s();r||(App.log({args:["Provider `%s` not found.",r],me:"oEmbed",fx:"warn"}),r=l);return{load:function(t){t=t||!1,c=(c=r.embed(o,a,t.autoplay,t.loop))||s();var e=App.components.create("checkpoint-event",{category:n.category||"Video",action:"view",label:i+": "+(o.attr("data-oembed-title")||a)});e.init(),r.ready(o,function(){o.addClass("loaded"),r.progress(o,function(t){e.track(t)}),t.finish&&r.finish(o,t.finish)})},play:function(){r.play(t)},pause:function(){r&&a&&t.find("iframe").length&&r.pause(t)},volume:function(t){r.volume(o,t)},destroy:function(){o.removeClass("loaded"),r.destroy(c)},requiresVideo:function(){return r.requiresVideo()}}}),App.modules.exports("oembed-providers",{actions:function(){return{oembed:{providers:{abstract:function(){return l},register:function(t,e){u[e.key]?App.log({args:["Provider `%s` already exists.",e.key],me:"oEmbed",fx:"error"}):u[e.key]=e.provider}}}}}})}(jQuery,jQuery(window)),function(l,t,e){"use strict";var u=l(window),d={itemSelector:".js-replace-state-on-scroll",container:"body",urlAttribute:"data-canonical-url",titleAttribute:"data-canonical-title",change:null,windowOffsetPercentage:.5};App.components.exports("replace-state-on-scroll",function(t){var a=l.extend({},d,t),e=l(),i=[],r=-1,c=u.height(),s=-1,n=function(){r=s=-1},o=function(){c=u.height(),e=l(a.container).find(a.itemSelector),i=_.map(e,function(t){return{offset:(t=l(t)).offset(),url:t.attr(a.urlAttribute),title:t.attr(a.titleAttribute)}})};return{init:function(t){a=l.extend(a,t),n(),o()},scroll:function(){var e=u.scrollTop(),t=_.findLastIndex(i,function(t){return t.offset.top+c*a.windowOffsetPercentage<=e});if(-1!==t&&r!==t&&i[t]){var n=i[t].url,o=i[t].title;o&&(document.title=o),n&&(App.modules.notify("page.replaceState",{title:o||document.title,url:n}),App.callback(a.change,[r,t,n]),s<t&&l.sendPageView({page:n})),r=t,s=Math.max(s,t)}},update:o,reset:n}})}(jQuery,window),function(a,t,e,n){"use strict";"fr"==a("html").attr("lang")&&(jQuery.timeago.settings.strings={prefixAgo:"PubliÃ© il y a",prefixFromNow:"d'ici",seconds:"moins d'une minute",minute:"environ une minute",minutes:"environ %d minutes",hour:"une heure",hours:"%d heures",day:"un jour",days:"%d jours",month:"un mois",months:"%d mois",year:"un an",years:"%d ans"}),App.components.exports("timeAgo",function(){return{init:function(t){t,a("time.js-time-ago").each(function(t,e){var n=a(this),o=new Date(n.attr("datetime"));(new Date).getTime()-o.getTime()<2592e6&&n.timeago()})}}})}(jQuery,window,document),function(d,t,e,n){"use strict";var a,o,i,p={ctn:d(),video:null,videoSelector:".js-video",resizeContainerSelector:"",onTimeUpdate:d.noop,onCanPlay:d.noop,onPlaying:d.noop,resizable:!0,onLoaded:d.noop,onEnded:d.noop};o=function(o){return function(){var n=Array.prototype.slice.call(arguments);return a(this).each(function(t,e){e&&a.isFunction(e[o])&&e[o].apply(e,n)})}},i=function(o){return function(n){if(void 0!==n)return a(this).each(function(t,e){e&&(a(e).get(0)[o]=n)});var t=a(this).get(0);return t&&t[o]||0}},(a=d).fn.mediaPlay=o("play"),a.fn.mediaPause=o("pause"),a.fn.mediaLoad=o("load"),a.fn.mediaCurrentTime=i("currentTime"),a.fn.mediaPaused=i("paused"),a.fn.mediaMuted=i("muted"),a.fn.mediaHeight=i("videoHeight"),a.fn.mediaWidth=i("videoWidth"),App.components.exports("video",function(t){var r=d.extend({},p,t),e=function(){if(r.resizable){var t=r.video.closest(r.resizeContainerSelector).length?r.video.closest(r.resizeContainerSelector):r.ctn,e=t.width(),n=t.height(),o=r.video.mediaWidth()/r.video.mediaHeight(),a=d.sizing.aspectFill({width:e,height:n,preferWidth:!1},o);a.height=Math.ceil(a.height),a.width=Math.ceil(a.width);var i=d.positioning.autoPosition({position:"center",left:"left",top:"top"},d.size(e,n),a);r.video.size(a).css(i).data({size:a,position:i})}},n=function(t){status.currentTime&&App.mediator.notify("video.timeupdate",{video:r.video,e:t}),App.callback(r.onTimeupdate,[r.video])},o=function(t){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"on"}),App.callback(r.onPlaying,[r.ctn,r.video])},a=function(t){e(),App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"off"}),App.modules.notify("changeState.update",{item:r.ctn,state:"video-loaded",action:"on"}),App.callback(r.onCanPlay,[r.ctn,r.video])},i=function(t){e(),App.callback(r.onLoaded,[r.ctn,r.video])},c=function(){r.video.filter("[data-video-reset-on-end]").length&&App.modules.notify("changeState.update",{item:r.ctn,state:"playing",action:"off"}),App.callback(r.onEnded,[r.ctn,r.video])},s=function(){r.video.mediaLoad()},l=function(){r.video.mediaPlay()},u=function(){App.modules.notify("changeState.update",{item:r.ctn,state:"paused",action:"on"}),r.video.mediaPause()};return{init:function(t,e){(r=d.extend({},r,e)).ctn=d(t),r.video=t.find(r.videoSelector),r.video.on("timeupdate",n).on("canplay",a).on("playing",o).on("ended",c).on("loadedmetadata",i)},resize:e,destroy:function(){r.video.off("timeUpdate",n).off("canplay",a).off("playing",o).off("ended",c).off("loadedmetadata",i),s(),r.video=null,r={}},load:s,play:l,togglePlay:function(){r.video.mediaPaused()?l():u()},pause:u,seek:function(t){r.video.mediaCurrentTime(t)},toggleMute:function(){r.video.mediaMuted(!r.video.mediaMuted())}}})}(jQuery,window,jQuery(window)),function(i,t){"use strict";i(window);var r={},e=function(t,e,n){if(e.data){var o={};if(i(e.data).each(function(t,e){if(i(e).is("link")){var n=i(e);n.attr("hreflang")&&(o[n.attr("hreflang")]=n.attr("href"))}if(i(e).is("body"))return!0}),r[e.url]=o,-1!==e.url.indexOf("?")){var a=e.url.split("?")[0];r[a]=o}}},n=function(t,e,n){r[window.location.pathname]&&i("#site a.js-alt-lg-link").each(function(){var t=i(this),e=r[window.location.pathname][t.data("lg")];e&&t.attr("href",e)})},o={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("altLanguageLinkUpdater",{init:function(){var e={};i("link[rel=alternate][hreflang]",document).each(function(){var t=i(this);e[t.attr("hreflang")]=t.attr("href")}),r[window.location.pathname]=e},actions:function(){return o}})}(jQuery),function(l,t){"use strict";var e=l(window),u=l("#site"),n=0,o=0,d=0,p="data-auto-3-state-trigger",f="data-auto-3-state-trigger-bottom",m="3-state-fx",a=l(),g=function(t,e,n){if(e){var o=u,a=t.attr(n);return a&&(o=t.closest(a)),o.find(e)}return t},i=function(){a=u.find(".js-auto-3-state-on-scroll["+p+"]")},r=function(){d=Math.floor(e.scrollTop()),a.each(function(){var t=l(this),e=Math.floor(t.outerHeight()),n=Math.floor(t.offset().top),o=(Math.floor(n+e),g(t,t.attr(p),"data-auto-3-state-trigger-common-ancestor"));if(o.length){var a=Math.floor(o.offset().top),i=t.attr(f)?g(t,t.attr(f),"data-auto-3-state-trigger-bottom-common-ancestor"):o,r=Math.floor(i.offset().top+i.outerHeight());if(e<r-a&&a<r){var c,s=a<=d+function(t){var e=0;return u.find(t.attr("data-auto-3-state-scroll-offset-top")).each(function(){e+=Math.floor(l(this).outerHeight())}),e}(t);c=r-d<=e?function(){App.modules.notify("changeState.update",{item:t,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"final",action:"on"})}:s?function(){App.modules.notify("changeState.update",{item:t,state:"initial",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"middle",action:"on"})}:function(){App.modules.notify("changeState.update",{item:t,state:"final",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"middle",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"initial",action:"on"})},t.data(m,c)}}})},c=function(){r()},s=function(){window.craf(n),n=window.raf(function(){a.each(function(){var t=l(this),e=t.data(m);t.removeData(m),App.callback(e)})})},h=function(){window.craf(o),o=window.raf(function(){c(),s()})},v=function(t,e){i(),h()},y=function(){i(),h()};App.modules.exports("auto-3-state-on-scroll",{init:function(){},actions:function(){return{site:{scroll:c,postscroll:s,resize:h},page:{enter:v},articleChanger:{enter:y}}}})}(jQuery),function(n){"use strict";var t=n(window),o=n(),l="auto-animation-can-play",e=".js-auto-animation",a=[],i=function(){o.find(e).each(function(){var t=n(this),e=App.components.create("animation");e.init(t),a.push(e)})},r=function(){var c=t.scrollTop(),s=t.height();n.each(a,function(t,e){var n=e.get();if(n.length){var o=n.offset().top,a=n.outerHeight(),i=c<o+a,r=o<c+s;n.data(l,i&&r)}})},c=function(){n.each(a,function(t,e){var n=e.get();n.length&&(n.data(l)?e.play:e.pause)()})},s=function(){r(),c()},u=function(){n.each(a,function(t,e){e.destroy()})},d=function(t,e){e.canRemove&&u()},p=function(){u()},f=function(t,e){o=n(e.page.key()),i()},m=function(t,e){o=n(e.article),i()};App.modules.exports("auto-animation",{actions:function(){return{page:{enter:f,leave:d},articleChanger:{enter:m,leaving:p},site:{scroll:r,postscroll:c,resize:s}}}})}(jQuery),function(u,t){"use strict";u(window);var e=u("#site"),n=function(t){var e=u(this),n=e.attr("data-change-state-click-target"),o=e.attr("data-change-state-click"),a=e.attr("data-change-state-action"),i=e.attr("data-change-state-min-width"),r=e.attr("data-change-state-max-width"),c=e,s=!!i&&window.mediaQueryMinWidth(i)||!i,l=!!r&&window.mediaQueryMaxWidth(r)||!r;if(o&&a&&s&&l&&(c=function(t,e){if(e){var n=t,o=t.attr("data-change-state-click-target-common-ancestor");return o&&(n=t.closest(o)),n.find(e)}return t}(c,n),App.modules.notify("changeState.update",{item:c,state:o,action:a}),e.filter("[data-change-state-click-prevent-default]").length))return window.pd(t)};App.modules.exports("auto-change-state-click",{init:function(){e.on(App.device.events.click,".js-change-state-click",n)}})}(jQuery),function(i,t){"use strict";i(window);var e=i("#site"),n=".js-change-state-hover",o=function(t){var e=i(this),n=e.attr("data-change-state-hover-target"),o=e.attr("data-change-state-hover"),a=e;return o&&(a=function(t,e){if(e){var n=t,o=t.attr("data-change-state-hover-target-common-ancestor");return o&&(n=t.closest(o)),n.find(e)}return t}(a,n),App.modules.notify("changeState.update",{item:a,state:o,action:"toggle"})),window.pd(t)};App.modules.exports("auto-change-state-on-hover",{init:function(){e.on("mouseenter",n,o),e.on("mouseleave",n,o)}})}(jQuery),function(c,t){"use strict";var e=c("#site"),s=".js-text-to-copy",n=".js-copy-on-click-btn",l=".js-confirm-message",u=null,o=function(){var t=c(this),e=t.closest(".js-copy-ctn"),n=e.find(l),o=parseInt(t.attr("data-message-delay"),10)||0,a=e.find(s),i=a.length,r=function(t){t.select(),document.execCommand("copy"),App.modules.notify("changeState.update",{item:n,state:"visible",action:"on"}),clearTimeout(u),u=setTimeout(function(){App.modules.notify("changeState.update",{item:n,state:"visible",action:"off"})},o)};0!==i?1===i?r(a):(App.log("Multiple items found for copy, using the first one"),r(a.eq(0))):App.log("No item found to copy text from")};App.modules.exports("auto-copy-on-click",{init:function(){e.on(App.device.events.click,n,o)}})}(jQuery),function(c,t){"use strict";c(window);var e=c("#site"),n=!0,o=c(".page"),a=function(t,e,n,o,a){var i=c(n).find(".js-oembed-video-player");i.length&&App.modules.notify("pauseVideo",i)},i=function(t,e,n,o,a){if(!App.device.mobile){c(this).cycle("resume");var i=c(n).find(".js-oembed-video-ctn"),r=i.find(".js-oembed-video-player");r.hasClass("loaded")&&(i.removeClass("is-playing"),r.removeClass("loaded").empty())}},r=function(t){App.device.mobile||t.container.closest(".js-cycle").cycle("resume")},s=function(t){var e=c(this),n=e.closest(".js-oembed-video-ctn"),o=n.find(".js-oembed-video-player");return App.device.mobile||App.modules.notify("loadVideo",{player:o,autoplay:!0,finish:r}),n.addClass("is-playing"),App.device.mobile||e.closest(".js-cycle").cycle("pause"),window.pd(t)},l=function(){o.find(".js-cycle-slide.video .js-oembed-video-ctn").each(function(){var t=c(this).find(".js-oembed-video-player");App.modules.notify("loadVideo",{player:t,finish:r})})},u=function(t,e){o=c(e.page.key()),c(".js-cycle:not(.cycle-inited)").each(function(){var t=c(this);if(!t.data("cycle-disable-mobile")||!App.device.mobile){var e={slides:t.attr("data-cycle-slides")||">img",pager:t.attr("data-cycle-pager")||"> .cycle-pager",pagerTemplate:t.attr("data-cycle-pager-template")||"<span><span>",next:t.attr("data-cycle-next")||"> .cycle-next",prev:t.attr("data-cycle-prev")||"> .cycle-prev",timeout:parseInt(t.attr("data-cycle-timeout"),10)||4e3,paused:!!App.device.mobile||(t.attr("data-cycle-paused")||!1),pauseOnHover:t.attr("data-cycle-pause-on-hover")||!0,fx:t.attr("data-cycle-fx")||"fade",caption:t.attr("data-cycle-caption")||"> .cycle-caption",log:App.debug()};t.cycle(e),t.on("cycle-before",a),t.on("cycle-after",i),t.addClass("cycle-inited")}}),!n&&App.device.mobile&&l()},d=function(){n=!1,App.device.mobile&&l()};App.modules.exports("auto-cycle",{init:function(){e.on(App.device.events.click,".js-cycle-slide.video .js-oembed-video-play",s)},actions:function(){return{site:{loaded:d},page:{enter:u},articleChanger:{enter:u}}}})}(jQuery),function(o,t){"use strict";o(window),o("#site");var n=o(".page"),a={sliderCtn:".js-auto-flickity-slider-ctn",cellCtn:".js-auto-flickity-ctn",cellSelector:".js-auto-flickity-cell",navBtnSelector:".js-auto-flickity-nav-btn",abortedClass:"is-flickity-cancelled",initedClass:"is-flickity-inited",selectedClass:"is-selected",imagesLoaded:!0,accessibility:!1},i=[],r=function(){o.each(i,function(t,e){setTimeout(function(){e.unpause()},1500+200*t)})},e=function(){o.each(i,function(){this.resize()})},c=function(n){n.find(a.sliderCtn).find(a.cellCtn).not("."+a.initedClass).each(function(){var t=o(this),e=App.components.create("flickity",a);e.init(t,n),e.isInited()&&i.push(e),setTimeout(function(){e.resize()},500)})},s=function(t,e){n=o(e.page.key()),c(n),r()},l=function(t,e){e.canRemove?(o.each(i,function(){this.destroy()}),i=[]):o.each(i,function(){this.pause()}),n=o()},u=function(){c(n),r()};App.modules.exports("auto-flickity",{actions:function(){return{site:{resize:e},page:{enter:s,leaving:l},articleChanger:{entering:u},siteLoader:{finishing:r},popupTransition:{beforeEnter:function(t,e){c(e.page),r()}}}}})}(jQuery),function(o,t){"use strict";var a=o("html"),e=o("#site"),i=".js-recaptcha-response",n=".js-recaptcha",r="g-recaptcha-",c="form",s=null,l=!1,u=0,d=function(t){t=t||s,l&&t&&t.find(n).each(function(){var e=o(this);if(!e.attr("id")){var t=r+ ++u;e.attr("id",t);var n=window.grecaptcha.render(t,{sitekey:e.attr("data-sitekey"),badge:e.attr("data-badge")||"bottomright",hl:a.attr("lang"),callback:function(t){e.closest(c).find(i).val(t),App.mediator.notify("recaptcha.updated",{result:t,lastTarget:e})}});e.data(r,n)}})},p=function(t){var e=!!t&&t.id||void 0;return!e&&t&&t.ctn&&(e=t.ctn.find(n).data(r)),e},f=function(t,e){try{var n=p(e);window.grecaptcha?window.grecaptcha.reset(n):App.log("Recaptcha Lib not found")}catch(t){App.log("Recaptcha Force update fail with error")}},m=function(t,e){try{var n=p(e);if(window.grecaptcha){if(!window.grecaptcha.getResponse(n))return window.grecaptcha.execute(n),!0;App.log("Recaptcha already executed")}else App.log("Recaptcha Lib not found")}catch(t){App.log("Recaptcha executed with error")}return!1},g=function(t,e){e.page?s=o(e.page.key()):e.article&&(s=o(e.article)),d()};App.modules.exports("auto-invisible-recaptcha",{init:function(){window.GoogleReCaptchaCallback=function(){l=!0,d(),d(e.find(n).filter(function(t,e){return!o(e).closest(".page").length}).map(function(t,e){return o(e).closest(c).get(0)}))}},actions:function(){return{page:{enter:g},articleChanger:{enter:g},recaptcha:{forceUpdate:f,execute:m}}}})}(jQuery),function(n,t,e){"use strict";var o=!0,a=n("#site"),i=function(t){var e=n(t.target);e.hasClass("jit-image-bg-src")&&e.closest(".jit-image-bg").css({backgroundImage:"url('"+e.attr("src")+"')"})},r=function(t,e){n(e.article).find("img[data-src-format]").jitImage()},c=function(t,e){o||n(e.page.key()).find("img[data-src-format]").jitImage(),o=!1};App.modules.exports("auto-jit-image",{init:function(){a.on("loaded.jitImage",i)},actions:function(){return{page:{enter:c},articleChanger:{enter:r}}}})}(jQuery,window),function(n,t,e){"use strict";var o=n("#site"),a=n(".page"),i=function(t){t.find("a[data-mailto]").each(function(){var t=n(this);t.attr("href","mailto:"+t.attr("data-mailto"))})},r=function(t,e){i(e.article)},c=function(t,e){a=n(e.page.key()),i(a)};App.modules.exports("auto-mailto",{init:function(){i(o)},actions:function(){return{page:{enter:c},articleChanger:{enter:r},autoMailto:{update:function(t,e){i(e.ctn)}}}}})}(jQuery,window),function(c,t){"use strict";c(window);var e=c("#site"),n=(c(),function(t){var e=c(this),n=e.attr("data-merge-qs-value-key"),o=e.attr("data-merge-qs-value-remove-keys"),a=e.attr("data-merge-qs-value")||null,i=App.routing.querystring.parse(window.location.search);if(n){if(e.filter("[data-merge-qs-value-toggle]").length?i[n]&&i[n]==a?i[n]=null:i[n]=a:i[n]=a||null,o){var r=o.split(",");c.each(r,function(t,e){i[e]=null})}if(App.mediator.notify("page.updateQsFragment",{qs:i,raiseFragmentChanged:!0}),e.filter("[data-merge-qs-value-prevent-default]").length)return window.pd(t,!0)}});App.modules.exports("auto-merge-qs-value",{init:function(){e.on(App.device.events.click,".js-merge-qs-value-button",n)}})}(jQuery),function(a,t){"use strict";a("#site");var n=a("#bg-transition-modal"),o=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe, object, embed","[tabindex], [contenteditable]"].join(","),e=".js-modal-toggle",i=function(e){return a(o).filter(function(){var t=a(this);return!t.closest(e).length||t.is(n)})},r=function(t,e){var n=a(e),o=n.data("acc-tabindex");o?n.attr("tabindex",o):n.removeAttr("tabindex")},c=function(t){t.which===window.keys.escape&&a(this).find(e).click()},s=function(t,e){var n=a(e),o=n.attr("tabindex");"-1"!==o&&(n.data("acc-tabindex",o||void 0),n.attr("tabindex","-1"))},l=function(t){t&&t.length&&(i(t).each(s),t.find(o).each(r),a(document).on("keyup",c))},u=function(t,e,n){n&&(a.removeFromTransition(t.selector),t.transitionEnd(function(){App.callback(n)},t.selector)),App.modules.notify("changeState.update",{item:t,state:"visible",action:e?"on":"off"}),e?l(t):function(t){t&&t.length&&(i(t).each(r),t.find(o).each(r),a(document).off("keyup",c))}(t)},d=function(t,e){if(e&&a(e.item).length){var n=a(e.item);n.addClass("noanim"),App.modules.notify("changeState.update",{item:n,state:"visible",action:"off"}),n.height(),n.removeClass("noanim")}},p=function(t,e){if(e&&a(e.item).length){var n=a(e.item);d(0,e),u(n,!0,e.callback)}},f=function(t,e){if(e&&a(e.item).length){var n=a(e.item);u(n,!1,e.callback)}},m=function(t,e){e&&(a.removeFromTransition(n.selector),n.transitionEnd(function(){App.callback(e)},n.selector)),App.modules.notify("changeState.update",{item:n,state:"visible",action:t?"on":"off"})},g=function(t,e){var n=e?e.callback:a.noop;m(!0,n)},h=function(t,e){var n=e?e.callback:a.noop;m(!1,n)};App.modules.exports("auto-modal",{actions:function(){return{modal:{show:p,hide:f,prepare:d,showBg:g,hideBg:h}}},init:function(){var t=a(".page").find(".js-modal-page");t.hasClass("is-visible")&&l(t)}})}(jQuery),function(n,e,t){"use strict";var o=n("#site"),a=".js-native-share",i=!!window.navigator.share,r=n(),c=function(t){return window.navigator.share({title:document.title,url:document.location.href||""+document.location}),e.pd(t)},s=!i&&function(){r.find(a).remove()},l=!i&&function(t,e){r=n(e.page.key()),s()},u=!i&&function(t,e){r=n(e.article),s()},d=i?void 0:function(){return{page:{enter:l},articleChanger:{enter:u}}};App.modules.exports("auto-native-share",{init:function(){i&&o.on(App.device.events.click,a,c)},actions:d})}(jQuery,window),function(i,r,t){"use strict";i(window);var e=i("#site"),n=i(),c=[],o=!0,s=".js-auto-oembed-player",l=".js-auto-oembed-ctn",u="auto-oembed",a=function(t){t.find(l).each(function(){var t=i(this),e=(t.find(s),t.data(u));App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"}),e&&e.destroy(),t.data(u,null)})},d=function(t,e){var n=t.find(s),o=n.attr("data-autoload"),a=t.data(u)||App.components.create("oembed",{container:t,player:n});if(!e&&a.requiresVideo()){if(App.device.mobile&&"mobile"!==o&&"all"!==o)return;if(!App.device.mobile&&"none"===o)return}return t.data(u,a),c.push(a),a.load({finish:function(){App.modules.notify("changeState.update",{item:t,state:"playing",action:"off"})}}),a},p=function(t){(t.is(l)?t:t.find(l)).each(function(){d(i(this))})},f=function(t){(t.is(l)?t:t.find(l)).each(function(){!function(t){var e=t.data();e&&e.autoOembed&&e.autoOembed.pause()}(i(this))})},m=function(t,e){e&&e.item&&f(e.item)},g=function(t){var e=i(this),n="true"===e.attr("data-auto-oembed-pause-other-on-play"),o=e.closest(l),a=o.data(u);return n&&f(i("#site")),a||(a=d(o,!0)),a&&(App.modules.notify("changeState.update",{item:o,state:"playing",action:"on"}),a.play()),r.pd(t)},h=function(t,e){n=i(e.page.key()),o||p(n)},v=function(){a(n),n=i(),c=[]},y=function(){o=!1,p(e)},w=function(t,e){e.ctn&&p(e.ctn)},A=function(t,e){a(n),e.article&&p(e.article)};App.modules.exports("auto-oembed",{init:function(){e.on(App.device.events.click,".js-auto-oembed-play",g)},actions:function(){return{page:{enter:h,leaving:v},site:{loaded:y},infiniteScroll:{pageLoaded:w},articleChanger:{enter:A},autoOembed:{pauseAll:m}}}})}(jQuery,window),function(t,e){"use strict";var n=jQuery("#site");App.modules.exports("auto-print",{init:function(){n.on(App.device.events.click,".js-auto-print",function(t){return setTimeout(window.print,10),window.pd(t)})}})}(),function(a,t){"use strict";a(window);var e,n,o=function(){App.mediator.notifyCurrentPage("autoRatio.resizeCompleted")},i=function(t,e){t.each(function(){var t,e=a(this),n=function(t){if(!t)return 1;var e=t.toString().split(/[:\/]/i);return e.length?1===e.length?parseFloat(e[0]):2===e.length?parseInt(e[0],10)/(parseInt(e[1],10)||1):-1:1}(e.attr("data-auto-ratio")),o=e.attr("data-auto-ratio-property")||"height";t="width"==o||"max-width"==o?e.height():e.width(),t=~~Math.floor(t/n),e.css(o,t+"px"),a("img[data-src-format]",e).jitImage()}),App.callback(e)},r=function(){i(a("*[data-auto-ratio]",a("> .page:visible",n)),o)},c=function(){r()},s=function(t,e){e&&e.elements?i(e.elements,e.callback?e.callback:o):r()};App.modules.exports("auto-ratio-size",{init:function(){e=a("#site"),n=a("#site-pages",e),r()},actions:function(){return{site:{resize:r},page:{enter:c},autoRatioSize:{update:s},articleChanger:{enter:c}}}})}(jQuery),function(f,t){"use strict";var m=f(window),e=f("#site"),n=0,g={all:!0,desktop:!App.device.mobile,tablette:App.device.tablet,mobile:App.device.mobile,phone:f.phone},o=function(){var t=f(this),e=m.width(),n=t.attr("data-height-ratio")||1,o=t.attr("data-height-property")||"minHeight",a=function(t){var n=0;if(t){var e=t.split(",");f.each(e,function(t,e){n+=f(e).height()})}return n}(t.attr("data-height-offset")),i=(m.height()-a)*n,r=function(t){var n=!1;if(t){var e=t.split(",");f.each(e,function(t,e){g[e]&&(n=!0)})}return n}(t.attr("data-screen-height-platform")||"all"),c=parseInt(t.attr("data-screen-height-min-width"),10)||0,s=parseInt(t.attr("data-screen-height-max-width"),10)||0,l=t.attr("data-screen-height-use-media-query"),u=t.attr("data-screen-height-jitimage")||!0,d=function(t,e){var n="",o=0!==t,a=0!==e;return o&&(n="(min-width: "+t+"px)"),o&&a&&(n+=" and "),a&&(n+="(max-width: "+e+"px)"),n}(c,s),p=function(t){var e=!0;return t&&t.length&&(e="true"===t),!!window.matchMedia&&e}(l);r&&!p&&c<e&&(0===s||e<s)?t.css(o,i):r&&p&&(0===d.length||window.matchMedia(d).matches)?t.css(o,i):t.css(o,""),u&&f("img[data-src-format]",t).jitImage()},a=function(t){(App.device.mobile&&120<Math.abs(n-m.height())||!App.device.mobile)&&(e.filter(".js-auto-screen-height").add(f(".js-auto-screen-height",e)).each(o),n=m.height())},i=function(){n=0,a(),App.device.mobile&&(n=m.height()),setTimeout(a,100)};App.modules.exports("auto-screen-height",{init:function(){a(),App.device.mobile&&(n=m.height())},actions:function(){return{site:{resize:a},page:{enter:i},autoScreenHeight:{update:a},articleChanger:{entering:a}}}})}(jQuery),function(i,t){"use strict";i(window);var r=i("html"),c=i("#site"),n=!0,o=function(t,e){var n=1<window.location.href.split("#").length?window.location.href.split("#")[1]:"",o=n?c.find("#"+n):i(),a=e&&e.noDuration?0:500;o.length&&r.velocity("scroll",{duration:a,offset:o.offset().top+"px",mobileHA:!1})},e=function(t,e){n?n=!1:o()};App.modules.exports("auto-scroll-to-id-on-load",{actions:function(){return{page:{enter:e},articleChanger:{enter:o},siteLoader:{finishing:o}}}})}(jQuery),function(l,t){"use strict";l(window);var u=l("#site"),e=function(t){var e=l(this),n=e.attr("href").split("#")[1],o=null,a=l("html"),i=e.attr("data-scroll-to-id-offset-selector"),r=0,c=e.attr("data-scroll-to-id-scroll-ctn");c&&(o=e.closest(".page").find(c)),i&&l(i).each(function(t,e){r-=l(e).height()});var s=u.find("#"+n);if(s.length)return r+=s.offset().top,a.velocity("scroll",{offset:r+"px",mobileHA:!1,container:o}),e.sendClickEvent({cat:e.attr("data-ga-cat")||"Scroll to "+n,event:t}),window.pd(t)};App.modules.exports("auto-scroll-to-id",{init:function(){u.on(App.device.events.click,".js-scroll-to-id-button",e)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var o=function(t){App.modules.notify("shareThis.applyButton",{service:t.attr("data-share-service")||"sharethis",title:t.attr("data-share-title")||document.title,url:t.attr("data-share-url")||function(){var t=window.location;return t.protocol+"//"+t.host+t.pathname}(),type:t.attr("data-share-type")||"large",element:t.eq(0)[0]})},e=function(t,e){n(".js-share-this-btn").each(function(){o(n(this))})},a={articleChanger:{enter:e},page:{enter:e}};App.modules.exports("autoShareThis",{init:function(){},actions:function(){return a}})}(jQuery),function(o,t,e){"use strict";o(window),o("html");var s=".js-auto-slide-click-item",a=".js-auto-slide-click-trigger",l=".js-auto-slide-click-slide",u="auto-slide-click",n=function(t,e){var n=e.item.closest(s);e.item.closest(".js-auto-slide-click").find(s).not(n).each(function(){var t=o(this),e=t.find(a),n=t.find(l);App.modules.notify("changeState.update",{item:e,state:u,action:"off"}),App.modules.notify("slide.update",{item:n,state:u,action:"up"})})},i=function(t,e){var n=e.trigger.closest(s),o=n.find(l),a=n.attr("data-auto-slide-click-min-width"),i=n.attr("data-auto-slide-click-max-width"),r=!!a&&window.mediaQueryMinWidth(a)||!a,c=!!i&&window.mediaQueryMaxWidth(i)||!i;r&&c&&(App.modules.notify("slide.update",{item:o,state:u,action:e.slideAction}),App.modules.notify("changeState.update",{item:e.trigger,state:u,action:e.triggerAction}))},r=function(t){var e=o(this);return i(0,{trigger:e,triggerAction:"toggle",slideAction:"toggle"}),window.pd(t)};App.modules.exports("auto-slide-click",{init:function(){o("#site").on(App.device.events.click,a,r)},actions:function(){return{autoSlideClick:{toggleOn:n,updateSlideState:i}}}})}(jQuery,window),function(e,t){"use strict";e(window);var n=e("#site"),o=0,a=0,i=e(),v="data-scroll-bounds-threshold",r=function(t){var e=t.closest(".js-scroll-bounds-ctn"),n=~~t.scrollLeft(),o=~~t.scrollTop(),a=~~t.outerWidth(),i=~~t.outerHeight(),r=~~t.prop("scrollWidth"),c=~~t.prop("scrollHeight"),s=a<r,l=i<c,u=t.attr(v)?parseFloat(t.attr(v)):0,d=~~r*u,p=~~c*u,f=!s||n<=d,m=!s||r-(n+a)<=d,g=!l||o<=p,h=!l||c-(o+i)<=p;0===e.length&&App.log("Auto state on scroll bounds: No ctn found"),t.data("scroll-bounds-callback",function(){App.modules.notify("changeState.update",{item:e,state:"x-start",action:f?"on":"off"}),App.modules.notify("changeState.update",{item:e,state:"x-end",action:m?"on":"off"}),App.modules.notify("changeState.update",{item:e,state:"y-start",action:g?"on":"off"}),App.modules.notify("changeState.update",{item:e,state:"y-end",action:h?"on":"off"})})},c=function(t){App.callback(t.data("scroll-bounds-callback"))},s=function(){var t=e(this);r(t),window.craf(o),o=window.raf(function(){c(t)})},l=function(){window.craf(a),a=window.raf(function(){i.each(function(){var t=e(this);r(t),c(t)})})},u=function(){i.off("scroll",s),(i=n.find(".js-scroll-bounds")).on("scroll",s),l()};App.modules.exports("auto-state-on-scroll-bounds",{init:function(){l()},actions:function(){return{site:{resize:l,loaded:l},page:{enter:u},articleChanger:{enter:u},autoStateOnScrollBounds:{refreshAll:u}}}})}(jQuery),function(l,t){"use strict";l(window);var u=l("#site"),d=function(t,e){return"height"==e?Math.floor(parseFloat(window.getComputedStyle(t[0]).height)):"outerHeight-full"==e?t.outerHeight(!0):"outerWidth-full"==e?t.outerWidth(!0):t[e]()},e=function(){u.find(".js-auto-sync-property").each(function(t,e){!function(t){var e=t.attr("data-sync-property");if(e){var n,o=t.attr("data-sync-property-from"),a=t.attr("data-sync-property-from-common-ancestor"),i=t.attr("data-sync-property-with"),r=u,c=null,s=t.attr("data-sync-property-aggregate");a&&(r="self"==a?t:t.closest(a)),r.length&&(c=r.find(o)),i||(i=e),c.length&&("sum"==s?(n=0,c.each(function(){n+=d(l(this),i)})):n="min"==s?_.reduce(c,function(t,e){var n=d(l(e),i);return n<t?n:t},d(c.first(),i)):"max"==s?_.reduce(c,function(t,e){var n=d(l(e),i);return t<n?n:t},0):d(c.first(),i),t.css(e,n))}}(l(this))})},n=function(){e()},o=function(){e(),setTimeout(e,50)};App.modules.exports("auto-sync-property",{init:function(){e()},actions:function(){return{site:{resize:n},page:{enter:o},articleChanger:{enter:o},autoSyncProperty:{update:e}}}})}(jQuery),function(o,t){"use strict";o(window);var e=o("#site"),r=function(t,e,n){var i=!1,r=App.routing.querystring.parse(window.location.search);o.each(n.split(","),function(t,e){var n=e.split("="),o=n[0],a=n[1];a.length?r[o]&&r[o]==a&&(i=!0):(r[o]&&0===r[o].length||!r[o])&&(i=!0)}),function(t,e,n){App.modules.notify("changeState.update",{item:t,state:e,action:n?"on":"off"})}(t,e,i)},n=function(){e.find(".js-auto-sync-state-from-qs").each(function(){var i=o(this),t=i.attr("data-sync-state-from-qs");if(t.length){var e=t.split(";");o.each(e,function(t,e){var n=e.split(":"),o=n[0],a=n[1];r(i,o,a)})}})},a=function(){n()};App.modules.exports("auto-sync-state-from-qs",{init:function(){n()},actions:function(){return{page:{fragmentChanged:a}}}})}(jQuery),function(m,t,e){"use strict";var g=m(window),h=g.height(),n=m("html"),v=n.height(),y=m("#site"),o=m(),a=(m(),"data-toggle-class-on-scroll-"),w=a+"ref-common-ancestor",A=a+"ref",b=a+"scroll-ctn",k=a+"element-offset",i=function(){v=n.height(),o.each(function(){var t=m(this),e=t.attr("data-toggle-class-on-scroll-add-before"),n=t.attr("data-toggle-class-on-scroll-rem-before"),o=t.attr("data-toggle-class-on-scroll-add-after"),a=t.attr("data-toggle-class-on-scroll-rem-after"),i=m(t.attr(A));t.attr(w)&&(i=t.closest(t.attr(w)).find(t.attr(A)));var r=i.length?i:t,c=t.attr("data-toggle-class-on-scroll-screen-offset")||0,s=g;t.attr(b)&&(s=t.closest(".page").find(t.attr(b)));var l=s.scrollTop();if(r.length){var u=function(){t.addClass(e),t.removeClass(n),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"before",addedClass:e,removeClass:n})},d=r.offset().top,p=h*c,f=0;t.attr(k)&&y.find(t.attr(k)).each(function(){f+=m(this).outerHeight()}),(d-p-f<l||!i.length&&0!==l&&l===v-h&&l<=d)&&(u=function(){t.addClass(o),t.removeClass(a),App.mediator.notify("autoToggleClassOnScroll.executed",{item:t,trigger:"after",addedClass:o,removeClass:a})}),t.data("autoToggleClassOnScroll",u)}})},r=null,c=function(){window.craf(r),r=window.raf(function(){o.each(function(){var t=m(this);App.callback(t.data("autoToggleClassOnScroll"))})})},s=function(){h=Math.max(1,g.height()),v=Math.max(1,n.height())},l=function(){s(),i(),c()},u=function(){o=y.find(".js-auto-toggle-class-on-scroll")},d=function(t,e){m(e.page.key()),u(),s(),setTimeout(l,500)},p=function(t,e){},f=function(){u(),i(),c()};App.modules.exports("auto-toggle-class-on-scroll",{actions:function(){return{site:{scroll:i,postscroll:c,resize:l},page:{enter:d,leave:p},infiniteScroll:{pageLoaded:u},articleChanger:{enter:f},search:{complete:f}}}})}(jQuery,window),function(d,t){"use strict";var p=d(window),a=d("#site"),n=d(".page"),e="/"+d("html").attr("lang")+"/ajax-tooltips/",o="is-tooltips-inited",f=".js-tooltips-trigger",m=".js-tooltips-bubble",g="data-word",i=d(),h=d(),v=[],r=0,c=function(t,e,n){d.sendEvent("glossary",t,e,n)},s=function(){d.each(v,function(){window.updateState(d(this),!1,"tooltip")})},l=function(t){var e=t.attr(g).toLowerCase(),n=h.find(f+"["+g+'="'+e+'"]'),o="",a="";if(n.length){var i=t.outerWidth(),r=t.outerHeight(),c=t.offsetParent();o=n.offset().left-(i-n.outerWidth())/2;var s=(a=n.offset().top-r-9-c.offset().top)<0,l=o<0,u=o+i>p.width(),d=n.offset().top+n.outerHeight()+r;s&&d<p.height()&&(a=d),l&&(o=n.closest("div").offset().left),u&&(o=n.closest("div").offset().left-(i-n.closest("div").width())),a+="px",o+="px"}t.data("fx",function(){t.css({top:a,left:o})})},u=function(t){App.callback(t.data("fx")),t.removeData("fx")},y=function(r,t,c){var s=new RegExp("\\b"+r+"\\b","ig"),l=new RegExp("\\b("+r+")\\b","ig"),e=t.contents(),u=!1;return d.each(e,function(){var t=this,e=t.nodeType,n=d(t).text();if(s.lastIndex=0,l.lastIndex=0,3===e&&s.test(n)){var o=d("<div/>").append(c.find(f).clone()).html().replace(s,"$1"),a=c.find(m).clone(),i=d(t).parent();return h.append(a),d(t).replaceWith(n.replace(l,o)),i.find("["+g+"]").attr(g,r.toLowerCase()),a.length&&v.push(a),!(u=!0)}1!==e||d(t).is("a, button, img, h1, h2, h3, h4, h5, h6")||y(r,d(t),c)}),u},w=function(t,e){var n=t.attr(g).toLowerCase(),o=t.is(m)?t:h.find(m+"["+g+'="'+n+'"]');l(o),u(o),window.updateState(o,e,"tooltip")},A=function(){var t=d(this);w(t,!0),c("over",t.text())},b=function(){var t=d(this);w(t,!1)},k=function(t){var e=d(this),n=e.attr(g).toLowerCase(),o=h.find(m+"["+g+'="'+n+'"]');return s(),o.hasClass("is-tooltip")?a.off(d.click,s):(l(o),u(o),window.updateState(o,!0,"tooltip"),a.on(d.click,s),c("click",e.text())),window.pd(t)},x=function(){if(i.length){if(!h.hasClass(o)){h.addClass(o);var n=h.find(".js-tooltips-target").find("p, li");i.each(function(){var t=d(this),e=t.attr(g);n.each(function(){return!y(e,d(this),t)})})}d.touch?h.on(App.device.events.click,"button"+f,k):(h.on("mouseenter","button"+f+", "+m,A),h.on("mouseleave","button"+f+", "+m,b))}},C=function(t,e){n=d(e.page.key()),h=n.find(".js-article").length?n.find(".js-article"):n,x()},j=function(t,e){h=d(e.article),x()},S=function(){window.craf(r),r=window.raf(s)},T=function(){d.touch?(h.off(App.device.events.click,"button"+f,k),a.off(d.click,s)):(h.off("mouseenter","button"+f+", "+m,A),h.off("mouseleave","button"+f+", "+m,b)),s(),h=d(),d.each(v,function(){d(this).remove()}),v=[]},P=function(){window.Loader.load({url:e,success:function(t){i=d(d(t).find("result").html()),x()},error:function(){App.log("Failed loading tooltips")}})};App.modules.exports("auto-tooltips",{init:function(){setTimeout(P,3e3)},actions:function(){return{site:{resize:S},page:{enter:C,leaving:T},articleChanger:{entering:j,leaving:T},decisionTree:{nodeLoaded:function(t,e){T(),h=d(e.item),x()}}}}})}(jQuery),function(o,t,e){"use strict";var a=App.components.create("checkpoint-event",{category:"Lecture",checkPoints:[25,50,75,90,100]}),n=o(window),i=n.height(),r=o("body"),c=r.height(),s=c-i,l=function(){i=n.height(),c=r.height(),s=c-i},u=function(t,e){var n=e.page?o(e.page.key()):e.article?o(e.article):o();a.init(),setTimeout(l,100),n.hasClass("js-tracked-scroll-disabled")?a.disable():a.enable()},d=function(){a.disable(),a.reset()},p=function(){0<s&&a.track(n.scrollTop()/s*100)};App.modules.exports("auto-tracked-scroll",{actions:function(){return{page:{enter:u,leave:d},site:{scroll:p,resize:l,loaded:l},articleChanger:{enter:u}}}})}(jQuery,window),function(a,t){"use strict";a(window);var n=a("#site"),o=a(".page"),i=".js-auto-video",e=0,r=function(){!function(t){t.find(i).each(function(){var t=a(this).data();t&&t.autoVideoComponent?t.autoVideoComponent.togglePlay():App.log("No auto-video-component found")})}(a(this).closest(".js-auto-video-ctn"))},c=function(t){var e=n.find(".js-auto-video-toggle-play");e.off(a.click,r),e.on(a.click,r),t.find(i).each(function(){!function(t,e){var n=a.extend({},{},e),o=App.components.create("video",n);o.init(t),o.load(),t.data("autoVideoComponent",o)}(a(this))})},s=function(){window.craf(e),e=window.raf(function(){o.find(i).each(function(){var t=a(this).data();t&&t.autoVideoComponent&&t.autoVideoComponent.resize()})})},l=function(t,e){o=a(e.page.key()),c(o)},u=function(t,e){c(e.article)},d=function(t,e){e.canRemove&&o.find(i).each(function(){var t=a(this),e=(t.closest(".js-auto-video-ctn"),t.data());if(e&&e.autoVideoComponent){var n=e.autoVideoComponent;t.data("autoVideoComponent",null),n.destroy()}})},p=function(t){return function(t){t.find(i).each(function(){var t=a(this).data();if(t&&t.autoVideoComponent){var e=t.autoVideoComponent;e.resize(),e.play()}else App.log("No autoVideoComponent found")})}(a(this).closest(".js-auto-video-ctn")),window.pd(t)};App.modules.exports("auto-video",{init:function(){n.on(a.click,".js-auto-video-play",p)},actions:function(){return{page:{enter:l,leaving:d},articleChanger:{enter:u},site:{resize:s},video:{resize:s}}}})}(jQuery),function(o,t){"use strict";o.fn.extend({blankLink:function(){o(this).each(function(){var t=o(this),e=t.attr("href");e&&(/^https?:\/\//.test(e)||/^\/workspace/.test(e))&&(t.attr("target")?!t.attr("rel")&&o.inArray(t.attr("target"),["_blank","_top"])&&t.attr("rel","noopener"):(t.attr("target","_blank"),t.attr("rel","noopener")))})}});var a=o(".page"),i=function(t){t.find("a").blankLink()},e={page:{enter:function(t,e,n){a=o(e.page.key()),i(a)}},articleChanger:{enter:function(t,e){i(e.article)}}};App.modules.exports("blankLinkModule",{init:function(){o("a").blankLink()},actions:function(){return e}})}(jQuery),function(a,t){"use strict";a(window);var i={},r=a(),e=function(t,e,n){if(e.data){var o="";a(e.data).each(function(t,e){if(a(e).is("link")){var n=a(e);if(n.attr("rel")&&"canonical"==n.attr("rel"))return o=n.attr("href"),!0}}),e.url||(e.url=window.location.pathname),i[e.url]=o}},n=function(t,e,n){i[window.location.pathname]&&r.attr("href",i[window.location.pathname])};App.modules.exports("canonical-updater",{init:function(){var o="",t=a("link[rel=canonical][href]",document);0===t.length?App.log({args:["No canonical meta found."],fx:"warn"}):1!=t.length&&App.log({args:["Multiple canonical meta found."],fx:"error"}),t.each(function(t,e){var n=a(this);o=n.attr("href"),r=n}),i[window.location.pathname]=o},actions:function(){return{pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}}}})}(jQuery),function(g,t){"use strict";g(window);var h=function(t){return!(!t||!t.length||"polygon"!=t[0].nodeName&&"polyline"!=t[0].nodeName&&"path"!=t[0].nodeName&&"g"!=t[0].nodeName&&"circle"!=t[0].nodeName&&"rect"!=t[0].nodeName&&"text"!=t[0].nodeName)},v=function(t,e,n,o,a){a&&t.length?g.each(t.split(","),function(t,e){App.mediator.notify(e,{item:n,state:o,flag:a})}):!a&&e.length&&g.each(e.split(","),function(t,e){App.mediator.notify(e,{item:n,state:o,flag:a})})},c=function(t,e,n){if(t&&t.length&&t[0]){var o="is-"+e,a=t.attr("data-"+e+"-state-add-class"),i=t.attr("data-"+e+"-state-rem-class"),r=t.attr("data-"+e+"-state-notify-on")||"",c=t.attr("data-"+e+"-state-notify-off")||"",s=t.attr("data-"+e+"-state-notify-on-after")||"",l=t.attr("data-"+e+"-state-notify-off-after")||"";v(r,c,t,e,n);var u,d,p,f,m;h(t)?t[0]&&t[0].classList?n?(t[0].classList.add(a),t[0].classList.remove(i),t[0].classList.add(o)):(t[0].classList.remove(a),t[0].classList.add(i),t[0].classList.remove(o)):(p=[],f=t.attr("class").split(" "),m="",n?(d=[],i&&(d=i.split(" ")),a&&p.push(a.split(" ")),p.push(o),g.each(f,function(t,e){-1==d.indexOf(e)&&p.push(e)}),g.each(p,function(t,e){m+=" "+e})):(u=[],a&&(u=a.split(" ")),g.each(f,function(t,e){e!=o&&-1==u.indexOf(e)&&p.push(e)}),i&&p.push(i.split(" ")),g.each(p,function(t,e){m+=" "+e})),t.attr("class",m)):n?(t.addClass(a),t.removeClass(i),t.addClass(o)):(t.removeClass(a),t.addClass(i),t.removeClass(o)),v(s,l,t,e,n)}else App.log("Called `doSetItemState` on an empty element collection, aborting.")},s=function(t,e,n){var o=t.attr("data-"+e+"-state-follower-common-ancestor"),a=t.attr("data-"+e+"-state-follower"),i=t;o&&(i=t.closest(o));var r=i.find(a);App.modules.notify("changeState.begin",{item:t,state:e,flag:n}),c(t,e,n),r.each(function(){var t=g(this);s(t,e,n)}),App.modules.notify("changeState.end",{item:t,state:e,flag:n})},e=function(t,i){i&&i.item&&i.state&&i.action&&i.item.each(function(){var t=g(this),e=t.attr("data-"+i.state+"-state-min-width"),n=t.attr("data-"+i.state+"-state-max-width"),o=!!e&&window.mediaQueryMinWidth(e)||!e,a=!!n&&window.mediaQueryMaxWidth(n)||!n;o&&a&&function(t,e,n,o){var a="is-"+e,i=t.hasClass(a);o=o||{},h(t)&&(i=t[0].classList?t[0].classList.contains(a):-1!=t.attr("class").split(" ").indexOf(a));"toggle"==n?(s(t,e,!i),i?App.callback(o.off):App.callback(o.on)):"on"==n?i||(s(t,e,!0),App.callback(o.on)):"off"==n?i&&(s(t,e,!1),App.callback(o.off)):App.log("Action: "+n+" is not recognized: Actions available are : toggle, on or off")}(t,i.state,i.action,i.callbacks)})};App.modules.exports("change-state",{actions:function(){return{changeState:{update:e}}}})}(jQuery),function(o,c,t){"use strict";var s=/^\[email([\u0080-\u00FF ]+)protected\]$/i,e=function(){o('a[href^="/cdn-cgi/l/email-protection"]').each(function(t,e){try{var n=(e=o(e)).attr("data-cfemail");n||(n=e.attr("href").split("#")[1]),n&&-1!==n.indexOf("?")&&(n=n.split("?")[0]),n&&function(t,e){var n,o,a="",i=parseInt(t.substr(0,2),16);if(i){for(n=2;n<t.length;n+=2)o=parseInt(t.substr(n,2),16)^i,a+=String.fromCharCode(o);e.attr("href","mailto:"+a),e.find("script").remove();var r=e.find(".__cf_email__");r.length&&(e=r),s.test(c.trim(e.text()))&&e.text(a)}}(n,e)}catch(t){App.log(t)}})};App.modules.exports("cloudflare-email",{actions:function(){return{page:{enter:e},articleChanger:{enter:e}}}})}(jQuery,window.s,window),function(e,t,n){"use strict";App.modules.exports("defered-css",{actions:function(){return{site:{loaded:function(){e("link[data-href]").each(function(){var t=e(this);t.attr("href",t.attr("data-href"))})}}}}})}(jQuery,window),function(a,t){"use strict";var n=function(t,e){e&&e.elem.find(".fb-comments").each(function(t,e){var n=a(e),o=n.width();100<o&&n.attr("data-width",o).find(">span>iframe, >span:first-child").width(o)})},e=function(t,e){window.FB&&window.FB.XFBML&&(e=e||{},window.FB.XFBML.parse(e.elem||document,function(){n(0,{elem:e.elem||a(".page:visible",App.root())})}))};App.modules.exports("FB",{actions:function(){return{page:{enter:e},FB:{parse:e,resize:n},articleChanger:{enter:e},site:{loaded:e}}}})}(jQuery),function(n){"use strict";var o=function(t){var e=t.field,n=e.getCtn();n.hasClass("js-input-radio")&&(n=n.add(n.closest(".js-radio-list"))),window.updateState(n,!!e.value(),"active"),window.updateState(n,!e.isValid(),"error")},t=function(t,e){var n=e.field.getCtn();window.updateState(n,!0,"active")},e=function(t,e){o(e)},a=function(t,e){o(e),e.form.isValid()&&App.mediator.notify("formDyn.isValid",{form:e.form,ctn:e.ctn})},i=function(t,e){e.form.eachFields(function(t){window.updateState(t.getCtn(),!1,"active"),window.updateState(t.getCtn(),!1,"error")})},r=function(t,e){e.form.eachFields(function(t){window.updateState(t.getCtn(),!1,"error")}),n.each(e.results,function(t,e){e&&e.field&&window.updateState(e.field.getCtn(),!0,"active")})};App.modules.exports("form-dyn-input-states",{actions:function(){return{formDyn:{inputFocus:t,inputBlur:e,inputChange:a,reset:i,validationError:r}}}})}(jQuery),function(t){"use strict";var e=function(t,e){window.updateState(e.ctn,!0,"loading")},n=function(t,e){window.updateState(e.ctn,!1,"loading"),window.updateState(e.ctn,!0,"completed")},o=function(t,e){window.updateState(e.ctn,!1,"loading"),window.updateState(e.ctn,!1,"completed")};App.modules.exports("form-dyn-loading",{actions:function(){return{formDyn:{submitting:e,complete:n,reset:o}}}})}(jQuery),function(i){"use strict";var r=i("html"),c=".js-form-dyn-messages-ctn",s=".js-form-dyn-message",l=".js-form-dyn-message-template",u=function(t){t.length&&(App.modules.notify("changeState.update",{item:t,state:"visible",action:"off"}),t.empty())},n=function(t,e){var n=t.find(c),o=n.find(l).filter('[data-fx="'+e+'"]'),a=n.find(s);a.length&&(u(a),a.append(i(o.html())),a.outerHeight(),App.modules.notify("changeState.update",{item:a,state:"visible",action:"on"}),r.velocity("scroll",{offset:a.offset().top+"px",mobileHA:!1}))},t=function(t,e){n(e.ctn,"success")},e=function(t,e){n(e.ctn,"error")},o=function(t,e){n(e.ctn,"error")},a=function(t,e){e.ctn.find(c).each(function(){u(i(this).find(s))})};App.modules.exports("form-dyn-messages",{actions:function(){return{formDyn:{success:t,error:e,handleError:o,reset:a}}}})}(jQuery),function(t){"use strict";var n=5e3,e=function(t,e){setTimeout(function(){e.form.reset(),App.mediator.notify("formDyn.reset",{form:e.form,ctn:e.ctn,data:e.data})},n)};App.modules.exports("form-dyn-reset",{actions:function(){return{formDyn:{error:e,success:e}}}})}(jQuery),function(r,t,e){"use strict";var n=[],o=r(".page"),c=r(),a=r(".js-site-prefooter"),i=".js-form-dyn",s=".js-form",l=".js-form-btn-submit",u=".js-recaptcha",d={ignoreErrors:["mailchimp","pingback","email"]},p=function(t,e){r('[name="g-recaptcha-response"]').disable(),e.lastTarget.attr("data-prevent-submit")||e.lastTarget.closest(s).submit()},f=function(t){var e=parseInt(t.find(u).data("recaptcha-id")),n=t.data("component");n&&(App.mediator.notify("formDyn.reset",{ctn:t,form:n}),App.modules.notify("autoChangeStateInputs.reset",{scope:t}),n.enable(!0),n.reset(),c.removeAttr("disabled"),function(t){try{window.grecaptcha&&window.grecaptcha.reset(t)}catch(t){App.log(t)}}(e))},m=function(t){t.find(i).each(function(){f(r(this))})},g=function(t){window.pd(t);var e=r(this).closest(i),n=parseInt(e.find(u).data("recaptcha-id")),o=e.data("component");o.validate(),o.isValid()&&0<=n&&window.grecaptcha.execute(n)},h=function(t){t.find(i).each(function(t,a){var e=(a=r(a)).find(s),i=App.components.create("form",{root:a});i.init({enableOnComplete:!1,post:{submitting:function(){App.mediator.notify("formDyn.submitting",{ctn:a,form:i}),c.attr("disabled","")},complete:function(){App.mediator.notify("formDyn.complete",{ctn:a,form:i}),App.mediator.notify("recaptcha.forceUpdate")},error:function(t){App.mediator.notify("formDyn.error",{ctn:a,form:i,data:r()}),App.mediator.notify("recaptcha.forceUpdate",{ctn:a,form:i})},success:function(e){try{e=r(e)}catch(t){App.log({fx:"error",args:t}),e=r()}if("yes"===e.find("form-dyn result").attr("success")){var o=!1;e.find("form-dyn handlers > *").each(function(){var t=r(this),e=t.get(0).nodeName.toLowerCase(),n=0<=_.indexOf(d.ignoreErrors,e);if(t.attr("success")&&"no"===t.attr("success")&&!n)return!(o=!0)}),o?App.mediator.notify("formDyn.handleError",{ctn:a,form:i,data:e}):App.mediator.notify("formDyn.success",{ctn:a,form:i,data:e})}else App.mediator.notify("formDyn.error",{ctn:a,form:i,data:e});App.mediator.notify("recaptcha.forceUpdate",{ctn:a,form:i})}},fieldsOptions:{rules:{date:{datetime:{dateOnly:!0,message:e.attr("data-msg-date-invalid"),notValid:e.attr("data-msg-date-invalid")}},document:{format:{message:e.attr("data-msg-doc-invalid")}},image:{format:{message:e.attr("data-msg-img-invalid")}}},emptinessEvents:null,previewEvents:null,onFocus:function(t){App.mediator.notify("formDyn.inputFocus",_.assign({ctn:a,form:i},t))},onBlur:function(t){App.mediator.notify("formDyn.inputBlur",_.assign({ctn:a,form:i},t))},onKeyup:function(t){App.mediator.notify("formDyn.keyup",_.assign({ctn:a,form:i},t))},onChangeOrInput:function(t){App.mediator.notify("formDyn.inputChange",_.assign({ctn:a,form:i},t))},onInited:function(t){if(t.field.find(".js-date-picker").length){var e=t.field.find(".js-date-picker"),n="fr"==r("html").attr("lang")?"dd-mm-yy":"mm-dd-yy";e.datepicker(),e.datepicker("option","dateFormat",n)}}},onError:function(t){App.mediator.notify("formDyn.validationError",{results:t.results,ctn:a,form:i})},onBeforePost:function(t){var n=!1;return App.mediator.notify("recaptcha.execute",{ctn:a,form:i},function(t,e){n=e}),n}}),a.data("component",i),App.mediator.notify("formDyn.init",{form:i,ctn:a}),(c=a.find(l)).on(r.click,g),n.push(i)})},v=function(t,e){o=r(e.page.key()),h(o)},y=function(t,e){var n=r(e.article);h(n)},w=function(t,e){o=r(e.page.key()),m(o),m(a)},A=function(t,e){var n=r(e.article);m(n),m(a)};App.modules.exports("form-dyn",{init:function(){h(a)},actions:function(){return{page:{enter:v,leave:w},articleChanger:{enter:y,leave:A},recaptcha:{updated:p}}}})}(jQuery,window),function(n,t){"use strict";window.formatTwitter=function(){var t=n(this),e=t.html();"true"!==t.attr("data-formattwitter")&&(e=function(t){return t.replace(/(^|[^&\w'"]+)\#([a-zA-Z0-9_Ã Ã¡Ã¢Ã£Ã¤Ã¥Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿^"^<^>]+)/gi,function(t,e,n){return'"'===t.substr(-1)||"<"==t.substr(-1)?t:e+'<a href="https://twitter.com/search?q=%23'+n+'&src=hash" target="_blank rel="noopener"">#'+n+"</a>"})}(e=function(t){return t.replace(/(^|[^\w]+)\@([a-zA-Z0-9_Ã Ã¡Ã¢Ã£Ã¤Ã¥Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿]{1,15}(\/[a-zA-Z0-9-_Ã Ã¡Ã¢Ã£Ã¤Ã¥Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿]+)*)/gi,function(t,e,n){return e+'<a href="http://twitter.com/'+n+'" target="_blank" rel="noopener">@'+n+"</a>"})}(e=function(t){return t.replace(/[a-z]+:\/\/([a-z0-9-_]+\.[a-z0-9-_:~\+#%&\?\/.=^>^<]+[^:\.,\)\s*$])/gi,function(t,e){return'<a title="'+t+'" href="'+t+'" target="_blank" rel="noopener">'+(36<e.length?e.substr(0,35)+"&hellip;":e)+"</a>"})}(e))),t.html(e),t.attr("data-formattwitter","true"))}}(jQuery),function(n,t){"use strict";var e="history",o=n("#site"),a=".js-history-input",i=[];try{i=JSON.parse(App.storage.local.get(e)||[])}catch(t){App.log(t)}var r=function(){i.push(window.location.href),o.find(a).each(function(){var t=n(this),e=i.join("\n");"true"===t.attr("data-history-unique")&&(e=_.uniq(i).join("\n")),t.val(e)}),App.storage.local.set(e,JSON.stringify(i))},c=function(t,e){r()},s=function(t,e){r()};App.modules.exports("history",{actions:function(){return{page:{enter:c},articleChanger:{enter:s}}}})}(jQuery),function(t,e){"use strict";var n=t(document),o="keyboard-nav",a="keydown",i="tabindex",r=t("html"),c=function(t){t.which===App.device.keys.tab&&(r.addClass(o),n.off(a,c).one("click",s),App.mediator.notify("keyboardNav.enabled"))},s=function(t){r.removeClass(o),n.on(a,c),App.mediator.notify("keyboardNav.disabled")},l=function(t,e){if(e&&e.item&&e.item.is(".js-focusable")){var n=e.item.add(e.item.find(".js-focusable-child"));"after"===e.trigger?n.removeAttr(i):n.attr(i,"-1")}};App.modules.exports("keyboard-nav",{init:function(){n.on(a,c)},actions:function(){return{autoToggleClassOnScroll:{executed:l}}}})}(jQuery),function(a,t){"use strict";var i=1<(a("html").attr("data-all-langs")||"").split(",").length||!0,e=a("body"),r=a("<a />"),n=function(){var o=window.location.pathname,t=e.find("a[href]");t.each(function(){var t=a(this);App.modules.notify("changeState.update",{item:t,state:"current-link-partial",action:"off"}),App.modules.notify("changeState.update",{item:t,state:"current-link",action:"off"})}),t.each(function(){var t=a(this),e="",n=[];r.prop("href",t.attr("href")),e=r.prop("pathname"),a.each(e.split("/"),function(t,e){e&&e===o.split("/")[t]&&n.push(e)}),i&&n.length<2&&(n=[]),App.modules.notify("changeState.update",{item:t,state:"current-link-partial",action:n.length&&e!==o?"on":"off"}),App.modules.notify("changeState.update",{item:t,state:"current-link",action:e===o?"on":"off"})})},o=function(t,e){n()},c=function(t,e){n()};App.modules.exports("link-selector",{init:function(){n()},actions:function(){return{page:{enter:o},articleChanger:{enter:c}}}})}(jQuery),function(s,t){"use strict";var e=window.location,l=e.origin||e.protocol+"//"+e.hostname,o=new RegExp("^"+l,"i"),a=function(){var t=s("html"),e=t.attr("lang");if(!e)return null;var n=t.attr("data-all-langs");if(!n)return null;return _.map(_.filter(n.split(","),function(t){return!!t&&t!==e}),function(t){return new RegExp("^/"+t+"/.*$","i")})}(),i=function(t,e){if(!App.mediator.getCurrentPage())return!0;var n=t.attr("href");return void 0===n||(!!/^(mailto|skype|tel|fax|ftps?|#)/im.test(n)||!(!e.metaKey&&!e.ctrlKey))},u=function(t){var e=s(this),n=e.attr("href");return!!i(e,t)||(/^\?.+/.test(n)&&(n=window.location.pathname+n),o.test(n)&&(n=n.replace(o,"")),!(!a||!_.some(_.map(a,function(t){return t.test(n)})))||(App.mediator.notify("links.gotoClicked",{item:e,url:n}),App.mediator.goto(n),window.pd(t)))},d=function(t){var e=s(this),n=e.attr("href"),o=e.attr("data-toggle-fallback-url");return!!i(e,t)||(App.mediator.notify("links.toggleClicked",{item:e,url:n,fallback:o}),App.mediator.toggle(n,o),window.pd(t))};App.modules.exports("links",{init:function(){var t=':not([href^="/workspace"])',e=':not([data-action="full"]):not([data-action="toggle"]):not([data-action="none"])',n='a[href^="'+l+'"]',o=':not(a[href^="'+l+'/workspace"])',a='[data-action="toggle"]',i='a[href^="/"]',r='a[href^="?"]',c=App.device.events.click;s("#site").on(c,i+t+e,u).on(c,r+t+e,u).on(c,n+e+o,u).on(c,i+a,d).on(c,r+a,d)}})}(jQuery),function(n,t){"use strict";n(window),n("#site");var o="is-loading",e=function(t,e){n(e.item).length&&e.url&&!e.item.hasClass(o)&&(e.item.addClass(o),Loader.load({url:e.url,success:function(){e.item.removeClass(o).addClass("is-loaded"),App.callback(e.successCallback)},error:function(){e.item.removeClass(o),App.console.log("Error loading async")},giveup:function(t){e.item.removeClass(o),App.console.log("Gave up loading async")}}))};App.modules.exports("load-async",{actions:function(){return{loadAsync:{load:e}}}})}(jQuery),function(r,t,e){"use strict";var c=function(){return!!window.DM&&window.DM.player};App.modules.exports("oembed-dm",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=r.extend({},n,{getIframe:function(o,a,i){App.loaded(c,function(t){var e=0<o.indexOf("/video/")?o.substring(o.indexOf("/video/")+7,o.indexOf("_")):o.substring(o.lastIndexOf("/")),n=r("<div/>");a=void 0!==a?a:1,i.append(n),this.playerInstance=t(n.get(0),{video:e,height:"100%",width:"100%",params:{autoplay:a,logo:0,info:0,background:"181818",highlight:"b4b4b4",api:1,html:1}})})},play:function(t){this.playerInstance.play()},pause:function(t){this.playerInstance.pause()}});App.modules.notify("oembed.providers.register",{key:"Dailymotion",provider:t})}})}(jQuery,window),function(t,e,n){"use strict";var a=function(){return!!window.FB&&window.FB.XFBML};App.modules.exports("oembed-fb",{init:function(){var n;t("#fb-root").length||App.log({fx:"error",args:'The FB SDK requires <div id="fb-root"></div> in the body'}),App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var o=t.extend({},n,{embed:function(e,t){App.loaded(a,function(t){t.parse(e.get(0)||document,function(){App.callback(o.ready)})})}});App.modules.notify("oembed.providers.register",{key:"Facebook",provider:o})}})}(jQuery,window),function(e,t,n){"use strict";var a=function(){return!!window.instgrm&&window.instgrm.Embeds};App.modules.exports("oembed-ig",{init:function(){var o;App.modules.notify("oembed.providers.abstract",function(t,e){o=e});var t=e.extend({},o,{embed:function(t,e){var n=o.getTemplateContent(t);return n&&t.html(n),App.loaded(a,function(t){t.process()}),n?t.children():void 0}});App.modules.notify("oembed.providers.register",{key:"Instagram",provider:t})}})}(jQuery,window),function(e,t,n){"use strict";App.modules.exports("oembed-sc",{init:function(){var o;App.modules.notify("oembed.providers.abstract",function(t,e){o=e});var t=e.extend({},o,{embed:function(t,e){var n=o.getTemplateContent(t);return t.html(n),t.children()}});App.modules.notify("oembed.providers.register",{key:"Soundcloud",provider:t})}})}(jQuery,window),function(a,t,e){"use strict";var i=function(){return!!window.twttr&&window.twttr.widgets};App.modules.exports("oembed-tw",{init:function(){var n;App.modules.notify("oembed.providers.abstract",function(t,e){n=e});var t=a.extend({},n,{embed:function(t,e){var n=t.find(".js-oembed-script"),o=a(a(n.contents()).text());t.append(o),App.loaded(i,function(t){t.load(o.get(0)||document)})}});App.modules.notify("oembed.providers.register",{key:"Twitter",provider:t})}})}(jQuery,window),function(a,o,t){"use strict";var r=function(){return o.$f};App.modules.exports("oembed-vm",{init:function(){var i;App.modules.notify("oembed.providers.abstract",function(t,e){i=e});var t=a.extend({},i,{getIframe:function(t,e,n,o,a){return e=void 0!==e?e:1,n=void 0!==n?n:1,i.getIframe().attr("src","//player.vimeo.com/video/"+t+"?autoplay="+e+"&loop="+n+"&muted="+e+"&player_id=vimeoPlayer"+t+"&api=1&html5=1&rel="+o+(a||""))},ready:function(n,o){App.loaded(r,function(t){var e=t(a("iframe",n).get(0));e.element.id="vimeoPlayer"+n.attr("data-oembed-id"),e.addEvent("ready",function(){n.attr("data-volume")&&e.api("setVolume",parseInt(n.attr("data-volume"),10)),App.callback(o,[e])})})},play:function(e){App.loaded(r,function(t){t(a("iframe",e).get(0)).api("play")})},pause:function(e){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).api("pause")})},progress:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).addEvent("playProgress",function(t){App.callback(n,[100*t.percent])})})},finish:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).addEvent("finish",function(){App.callback(n,{container:e})})})},volume:function(e,n){App.loaded(r,function(t){o.$f(a("iframe",e).get(0)).api("setVolume",n)})},requiresVideo:function(){return!0}});App.modules.notify("oembed.providers.register",{key:"Vimeo",provider:t})}})}(jQuery,window),function(t,i,e){"use strict";var n=!1;window.onYouTubeIframeAPIReady=function(){n=!0};var u=function(){return!(!n||!i.YT)&&i.YT.Player};App.modules.exports("oembed-yt",{init:function(){var s;App.modules.notify("oembed.providers.abstract",function(t,e){s=e});var l=t.extend({},s,{getIframe:function(t,e,n,o,a){var i=0<t.indexOf("v=")?t.match(/v=([^\&]+)/im)[1]:t.substring(t.lastIndexOf("/")+1),r=void 0!==e?e:1,c=s.getIframe().attr("id","youtube-player-"+i).attr("src","https://www.youtube.com/embed/"+i+"?feature=oembed&autoplay="+r+"&mute="+r+"&origin="+document.location.origin+"&enablejsapi=1&version=3&html5=1&rel="+o+(a||""));return App.loaded(u,function(t){l.ytplayer=new t(c.get(0))}),c},playerLoaded:function(){return l.ytplayer&&l.ytplayer.playVideo},ready:function(t,e){App.loaded(u,function(t){App.callback(e,[t])})},play:function(t){App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.playVideo()})})},pause:function(t){App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.pauseVideo()})})},progress:function(t,n){var o=0,a=function(){if(clearTimeout(o),l.ytplayer){var t=l.ytplayer.getDuration(),e=l.ytplayer.getCurrentTime();App.callback(n,[Math.max(0,e/t*100||0)])}o=setTimeout(a,2e3)},e=function(t){t.data===i.YT.PlayerState.PLAYING?a():(clearTimeout(o),o=0)};App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",e)})})},finish:function(e,n){var o=function(t){t.data===i.YT.PlayerState.ENDED&&App.callback(n,{container:e})};App.loaded(u,function(t){App.loaded(l.playerLoaded,function(){l.ytplayer.addEventListener("onStateChange",o)})})},requiresVideo:function(){return!0}});App.modules.notify("oembed.providers.register",{key:"YouTube",provider:l})}})}(jQuery,window),function(t,e){"use strict";var n=function(t,e){e&&e.url?window.location=e.url:window.location=window.location};App.modules.exports("page-load-errors",{actions:function(){return{pages:{failedtoparse:function(t,e){},loaderror:function(t,e){},loadfatalerror:function(t,e){n(0,e)}},articleChanger:{loaderror:function(t,e){n(0,e)}}}}})}(jQuery),function(t,e){"use strict";var n="page-loading",o="show",a=t(),i=t(),r=!1,c=0,s=0,l=0,u=function(t){return~~(100*t)+"%"},d=function(t){if(clearTimeout(l),r){var e=s+.05;s=Math.max(e,t||s),s=Math.min(s,1),i.width(u(s)),!t&&s<.95&&(l=setTimeout(d,150))}App.log({fx:"info",args:["Progress %s %s",t||"timer",s],me:"page-load"})},p=function(){clearTimeout(c),s=.3,i.removeClass("end").removeClass(o).removeClass("start").width(u(0)).height(),i.addClass("start").addClass(o).width(u(s)).height(),a.addClass(n),r=!0,App.log({fx:"info",args:"Start",me:"page-load"}),setTimeout(d,300)},f=function(){i.addClass("end").width("100%"),r=!1,c=setTimeout(function(){i.removeClass(o),a.removeClass(n)},500),App.log({fx:"info",args:"End",me:"page-load"})},m=function(t,e){d(e.percent)};App.modules.exports("page-load",{init:function(){a=t("html"),i=t("#load-progress")},actions:function(){return{pageLoad:{start:p,progress:m,end:f},pages:{loading:p,loadfatalerror:f,loadprogress:m,loaded:f,notfound:f}}}})}(jQuery),function(t,e){"use strict";App.modules.exports("page-not-found",{actions:function(){return{pages:{notfound:function(t,e){e&&e.url&&e.url!==window.location.pathname&&(window.location=e.url)}}}}})}(jQuery),function(i,t){"use strict";i(window);var r={},o=".js-rate-it",a=App.debug()?3e3:1e4,c=i(),s=0,l=function(){var t=c.attr("data-rating-url");if(t){var e=window.location.pathname;if(!r[e]){var n=window.location.protocol+"//"+window.location.hostname+e,o={"fields[0][key]":n,"fields[0][tag]":"","action[rate]":""},a=(c.attr("data-rating-categories")||"").split(",");i.each(a,function(t,e){e&&(o["fields["+ ++t+"][key]"]=n,o["fields["+t+"][tag]"]=e)}),r[e]=!0,window.Loader.load({url:t,type:"POST",data:o,error:function(t){App.log(t),r[e]=!1},success:function(){r[e]=!0}})}}},e=function(t,e,n){c=e.page?i(e.page.key()).find(o):e.article?i(e.article).find(o):i(),clearTimeout(s),s=setTimeout(l,a)},n={page:{enter:e},articleChanger:{enter:e}};App.modules.exports("rating",{actions:function(){return n}})}(jQuery),function(o,t){"use strict";o(window);var a=".js-recommend-ctn",i=App.debug()?1e3:3e3,r=o(),c=0,s=window.location.protocol+"//"+window.location.host,l=function(t){return o.isArray(t)?t:[t]},e=App.components.create("algolia-search",{resultsCtnSelector:".js-recommend-results",resultsContentSelector:".js-recommend-content",resultsItemTemplateSelector:".js-recommend-template",algoliaAttributesToRetrieve:["title","url","hightlightedContent","category","categoryHandle","categoryUrl","img","imgJitFormat","imgSrc","rating","whitelist","blacklist"].join(","),algoliaAttributesToHighlight:"",gaCat:null,recommendCallback:function(t,e,n,o){e.nbHits||App.debug()||t.closest(a).remove(),App.modules.notify("recommendations.searchCompleted")},onCreateResultsTemplatingObject:function(t){var e=t.category?l(t.category):[],n=t.categoryHandle?l(t.categoryHandle):[],o=t.categoryUrl;return{title:t.title?t.title:"",url:t.url.replace(s,""),links:o?_.map(e,function(t,e){return{url:o+n[e],value:t}}):[],date:t.date?t.date:"",author:t.author?t.author:"",img:t.img?t.img:"",imgSrc:t.imgSrc?t.imgSrc:"",imgJitFormat:t.imgJitFormat?t.imgJitFormat:""}}}),u=function(){var t=_.filter((r.attr("data-recommend-categories")||"").split(","));e.init(r),e.recommend(t,"data-recommend-group")},n=function(t,e,n){r=e.page?o(e.page.key).find(a):e.article?o(e.article).find(a):o(),clearTimeout(c),c=setTimeout(u,i)},d={page:{enter:n},articleChanger:{enter:n}};App.modules.exports("recommendations",{actions:function(){return d}})}(jQuery),function(t,e){"use strict";App.modules.exports("route-not-found",{actions:function(){return{pages:{routeNotFound:function(t,e){e&&e.url&&e.url!==window.location.pathname&&(window.location=e.url)}}}}})}(jQuery),function(t,e){"use strict";t(window),t("#site-loader"),t("html");var n=function(t){var e=new RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},o=function(){var t=n("gclid");if(t){var e=n("gclsrc");e&&-1===e.indexOf("aw")||function(t,e,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="; expires="+o.toGMTString();document.cookie=t+"="+e+a+";path=/"}("gclid",t,90)}},a=function(t,e){var n=new RegExp("(?:^|;\\s*)gclid=([^;]*)").exec(document.cookie);if(n){var o=n[1]?n[1]:"";e.input&&e.input.attr("value",o)}};App.modules.exports("salesforce-adwords",{init:function(){o()},actions:function(){return{salesforceAdwords:{setId:a}}}})}(jQuery),function(c,t){"use strict";c(window),c("#site");var e={shareThis:{applyButton:function(t,e,n){var o=window.location,a=o.protocol+"//"+o.host+o.pathname,i={service:"sharethis",title:document.title,url:a,type:"large"},r=c.extend(i,e);r.element&&window.stWidget&&window.stWidget.addEntry(r),c(r.element).on(App.device.events.click,function(t){return window.pd(t,!1)})}}};App.modules.exports("shareThis",{init:function(){},actions:function(){return e}})}(jQuery),function(i,t,e){"use strict";var r=t.onerror;t.onerror=function(t,e,n,o,a){return t=t||"",e&&(t+=" "+e),n&&(t+=" line "+n),o&&(t+=" col "+o),a&&a.stack&&(t+=" col "+a.stack),i.sendEvent("error",t),App.callback(r,t,e,n,o,a)},i(document).ajaxError(function(t,e,n){i.sendEvent("error ajax",n.url,t.result)})}(jQuery,window),function(t,e){"use strict";t(window);var n=t(".js-site-loader"),o=function(){t("html").removeClass("block-scroll"),App.modules.notify("siteLoader.finishing",{noDuration:!0})},a=function(){n.remove(),App.modules.notify("siteLoader.finished")},i=function(){App.modules.notify("siteLoader.closing"),n.length&&(t(".js-site-loader-close-ended-anim-ref").transitionEnd(a),App.modules.notify("changeState.update",{item:n,state:"close",action:"on"}),o())},r=function(){App.modules.notify("siteLoader.pageLoaded"),n.length&&setTimeout(i,1e3)};App.modules.exports("site-loader",{init:function(){App.modules.notify("siteLoader.initing"),App.debug()?(App.modules.notify("siteLoader.closing"),o(),a()):setTimeout(i,9500)},actions:function(){return{site:{loaded:r}}}})}(jQuery),function(n,t){"use strict";var o=n(window),e=n("#site"),a=!1,i=null,r=function(t,e){i=e,a=!0},c=function(){a&&(a=!1,function(t,e){e.state.scrollPos&&(o.scrollTop(e.state.scrollPos),App.mediator.notify("site.scroll"),App.mediator.notify("site.postscroll"))}(0,i))};App.modules.exports("siteScrollKeeper",{init:function(){history.scrollRestoration&&(history.scrollRestoration="manual"),e.on(n.click,"a[href^='#']",function(t){var e=window.location.pathname+window.location.search;return e+=n(this).attr("href"),App.mediator.goto(e),window.pd(t)})},actions:function(){return{history:{popState:r},page:{enter:c},articleChanger:{enter:c}}}})}(jQuery),function(u,t){"use strict";var e=u(window),n=u("html"),d=".js-scrolling-zone",p=".js-scrolling-zone-content",o=function(t){u(".js-fix-scroll-pad").css({paddingRight:t||""}),u(".js-fix-scroll-right").css({right:t||""}),u(".js-fix-scroll-margin").css({marginRight:t||""})},a={ArrowDown:!0,ArrowUp:!0,End:!0,Home:!0,PageDown:!0,PageUp:!0},i=function(t){var e=u(t.target).closest(d),n=!1;if(0<e.length){var o=e.height()||0,a=e.find(p),i=a.height()||0,r=e.offset().top,c=i-o,s=-(a.offset().top-r),l=function(t){var e=null,n=!1;return t.wheelDelta?e=t.wheelDelta/60:t.detail&&(e=-t.detail/2),null!==e&&(n=0<e?"up":"down"),n}(t);(c<=0||"down"===l&&s==c||"up"===l&&0==s)&&(n=!0)}else n=!0;n&&((t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1)},r=function(t){if(a[t.key])return i(t),!1},c={preventEvent:{add:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",i,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null},remove:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",i,!1),window.onwheel=i,window.onmousewheel=document.onmousewheel=i,window.ontouchmove=i,document.onkeydown=r}},hideOverflow:{add:function(){n.removeClass("no-scroll"),o(0)},remove:function(){if(!n.hasClass("no-scroll")){var t=e.width();n.addClass("no-scroll"),o(e.width()-t)}}}},s=function(t){return t&&t.strategy?t.strategy:"hideOverflow"},l=function(t,e){c[s(e)].add()},f=function(t,e){c[s(e)].remove()};App.modules.exports("siteScroll",{actions:function(){return{site:{removeScroll:f,addScroll:l}}}})}(jQuery),function(t,e){"use strict";jQuery(window);var n=function(t,e){if(e&&e.item&&e.state&&e.action){var n=e.item.attr("data-"+e.state+"-state-min-width"),o=e.item.attr("data-"+e.state+"-state-max-width"),a=!!n&&window.mediaQueryMinWidth(n)||!n,i=!!o&&window.mediaQueryMaxWidth(o)||!o;a&&i&&function(t,e,n,o){var a="is-"+e,i=t.hasClass(a),r=t.attr("data-"+e+"-state-slide-duration")||300,c=t.attr("data-"+e+"-state-notify-on-callback");if(o=o||{},"toggle"===n){App.modules.notify("changeState.update",{item:t,state:e,action:"toggle"});var s=i?"slideUp":"slideDown";t.stop(!0,!1)[s](r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),"slideDown"==s&&c&&App.mediator.notify(c,{item:t})})}else"up"===n?i&&(App.modules.notify("changeState.update",{item:t,state:e,action:"off"}),t.stop(!0,!1).slideUp(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""})})):"down"===n?i||(App.modules.notify("changeState.update",{item:t,state:e,action:"on"}),t.stop(!0,!1).slideDown(r,function(){t.css({overflow:"",height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""}),App.mediator.notify(c,{item:t})})):App.log("Action: "+n+" is not recognized: Actions available are : toggle, up, down")}(e.item,e.state,e.action,e.callbacks)}};App.modules.exports("slide",{actions:function(){return{slide:{update:n}}}})}(),function(o,t){"use strict";var a=o(".js-tab-reset"),i=o(),r=function(t){t.focus()},e=function(t,e){var n=o(e.page.key());n.hasClass("js-tab-reset-alt")?(i=o(document.activeElement),r(n)):(i.length&&i.is(":visible")?r(i):r(a),i=o())};App.modules.exports("tab-navigation",{actions:function(){return{page:{enter:e}}}})}(jQuery),function(a,t){"use strict";a(window),a("title",document);var i={},e=function(t,e,n){if(e.data){var o="";a(e.data).each(function(t,e){if(a(e).is("title"))return o=a(e).text(),!0}),e.url||(e.url=window.location.pathname),i[e.url]=o}},n=function(t,e,n){i[window.location.pathname]&&(document.title=i[window.location.pathname])},o={pages:{loaded:e},page:{enter:n},articleChanger:{loaded:e,enter:n}};App.modules.exports("titleUpdater",{init:function(){i[window.location.pathname]=a("title").text()},actions:function(){return o}})}(jQuery),function(o,t){"use strict";var e=function(t,e,n){App.mediator.goto("/"+o("html").attr("lang")+"/")};App.modules.exports("toggleNoPreviousUrl",{init:function(){},actions:function(){return{page:{toggleNoPreviousUrl:e}}}})}(jQuery),function(r,t){"use strict";var o=[],i="",c=function(t,e){var n=t.currentPage,o=t.nextPage,a=r(o.key()),i=r(n.key());App.modules.notify("page.leaving",{page:n}),n.leave(t.leaveCurrent),App.modules.notify("page.entering",{page:o,route:t.route}),a.css({opacity:1,display:"block"}),i.css({display:"none"}),o.enter(t.enterNext),App.callback(e)},a=function(t){},s=function(t){for(var e=0;e<o.length;e++){var n=o[e];if(!(n.from!==t.currentPage.key().substring(1)&&"*"!==n.from||n.to!==t.nextPage.key().substring(1)&&"*"!==n.to)&&n.canAnimate(t))return n}},e=function(t,e){var n=a,o=s(e);o&&(n=o.beginTransition),i=e.nextPage.key().substring(1),n(e)},n=function(t,e,n){var o=c,a=s(e);a&&(o=a.transition),o(e,function(){i=""}),e.isHandled=!0};App.modules.exports("pageTransitionAnimation",{actions:function(){return{pages:{requestPageTransition:n,requestBeginPageTransition:e},pageTransitionAnimation:{getTargetPage:function(t,e,n){e||(e={result:{}}),e.result||(e.result={}),e.result.pageTransitionAnimation={},e.result.pageTransitionAnimation.target=i}}}}});window.App=r.extend(window.App,{transitions:{exports:function(t){var e=r.extend({from:"*",to:"*",beginTransition:a,transition:c,canAnimate:function(){return!0}},t);"*"===e.from&&"*"===e.to?(c=e.transition,a=e.beginTransition):o.push(e)}}})}(jQuery),function(n,t){"use strict";n(window);var e=function(t,e){e&&e.item&&n.removeFromTransition(e.item.selector)},o=function(t,e){if(e&&e.item){var n=e.item.attr("data-transitionEnd-notify");n&&n.length&&e.item.transitionEnd(function(){App.mediator.notify(n,{item:e.item})})}};App.modules.exports("transitionEnd-notify",{actions:function(){return{transitionEndNotify:{attach:o,cancel:e}}}})}(jQuery),function(s,t){"use strict";var a="",r="",i="",l="",u={},c=!1,d=!1,p=["fr","en"],f=function(){var t=l.indexOf("?");u=-1<t?App.routing.querystring.parse(l.substring(t)):{}},e=function(t,e){var n={scrollPos:s(window).scrollTop()};window.history.replaceState(s.extend({},n,e.data),e.title,e.url)},n=function(){c||e(0,{title:document.title,url:r+l})},m=function(t){history.pushState({},document.title,t)},g=function(){m(r+l)},h=function(t){var e=t.page.routes()[0];return 1<t.page.routes().length&&(e=t.page.routes()[function(){var n=s("body"),o=0;return s.each(p,function(t,e){if(n.hasClass(e))return o=t,!1}),o}()]),e},v=function(e,n){var t=e?e.indexOf("*"):-1;return-1<t?(e=e.substring(0,t),n.length>e.length?(l=n.substring(t),f()):(l="",u={})):function(){if(n.length>e.length){var t=n[e.length];"#"!==t&&"?"!==t||(l=n.substring(e.length),f())}else l="",u={}}(),e},o=function(t,e,n){var o=v(h(e),e.route);r==o&&a==e.page.key()||(function(t){""===r?d=!0:(c||m(t+l),c=!1)}(o),r=o,i=e.route,a=e.page.key())},y=function(t,e,n){var o=!1;if(d){var a=window.location.href,i=window.location.protocol+"//"+window.location.host+r;l=a.substring(i.length),App.mediator.notify("page.fragmentChanged",l,function(){o=!0})}o||s.sendPageView({page:e.route})},w=function(t,e,n){l="",f()},A=function(t,e,n){r&&(l=e,s.isPlainObject(e)&&f(),g(),s.sendPageView({page:e.route}))},b=function(t,e,n){if(s.isPlainObject(e.qs)){var o=App.routing.querystring.stringify(u);s.extend(u,e.qs);var a=l.split("#")[0],i=l.split("#")[1],r=l.indexOf("?"),c=function(){var n=[];return s.each(u,function(t,e){t=window.encodeURIComponent(t),e&&n.push(t+"="+window.encodeURIComponent(e))}),n.join("&")}();"?"+c!==o&&(c.length?l=-1===r?a+"?"+c:a.substring(0,r+1)+c:-1!==r&&(l=a.split("?")[0]),i&&i.length&&(l+="#"+i),g(),e.raiseFragmentChanged&&App.mediator.notify("page.fragmentChanged",l))}},k=function(){var t=App.pages.page(window.location.pathname);if(t){var e=window.location;if(t.key()==a){e.origin||(e.origin=e.protocol+"//"+e.hostname);var n=e.origin+r,o=e.href.substring(n.length);l!=o?(App.mediator.notify("page.fragmentChanged",o),l=o,f()):App.mediator.notify("page.sameFragmentRequested",o)}else c=!0,App.mediator.goto(e.pathname+e.search,i)}else App.log({args:"Page not found",me:"Url Changer"})},x=function(t,e,n){var o=l;v(h(e),e.route),g(),l!==o&&(l=o,s.sendPageView({page:e.route})),k()},C=_.throttle(function(){e(0,{title:document.title,url:window.location.pathname+window.location.search+window.location.hash})},500,{}),j=function(){C()};App.modules.exports("urlChanger",{init:function(){var t=s("html").attr("data-all-langs");t&&(p=t.split(",")),window.history.pushState?s(window).on("popstate",function(t){App.modules.notify("history.popState",{previousUrl:i,event:t,state:t.originalEvent.state}),k()}):App.log({fx:"error",msg:"Cannot update url : history api was not found"})},actions:function(){return{site:{scroll:j},page:{entering:o,leaving:w,enter:y,updateUrlFragment:A,updateQsFragment:b,replaceState:e},pages:{navigateToCurrent:x,loading:n},url:{getUrl:function(){return window.location.pathname},getQueryString:function(){return window.location.search},getFullUrl:function(){return window.location.toString()}}}}})}(jQuery),function(t,e){"use strict";var n=window.Storage.local,o="auto-user-id",a="",i=function(){a&&t(".js-user-id").val(a)};App.modules.exports("user-id",{init:function(){(a=n.get(o)||"")||(a=function(){var t=0,e="";if(!window.Uint8Array||!window.crypto){for(t=0;t<32;++t)e+=(~~(1e4*Math.random())%255).toString(16);return e}var n=new window.Uint8Array(32);for(window.crypto.getRandomValues(n),t=0;t<n.length;++t)e+=n[t].toString(16);return e}(),n.set(o,a))},actions:function(){return{page:{enter:i},articleChanger:{enter:i}}}})}(jQuery),function(n,t){"use strict";var e=n("#site"),o=".js-watermark-ctn";App.modules.exports("watermark",{init:function(){e.find(o).each(function(){var e=n(this);e.attr("data-href")&&!e.html()&&n.ajax({method:"GET",crossDomain:!0,url:e.attr("data-href"),success:function(t){e.append(n(t).find("watermark").html())}})})}})}(jQuery),function(t,e){"use strict";var n=t(window),o=t(document),a=function(t,e){App.mediator.notify("site."+t,{event:e})},i=function(t){a("resize",t)},r=function(t){a("orientation",t),i()},c=function(t){a("scroll",t),a("postscroll",t)},s=function(t){a("loaded",t)},l=function(t){document.visibilityState||document.webkitVisibilityState;a("visibilitychange",t)},u=function(t){a("ready",t)},d=function(t,e){e&&e.animated||(n.scrollTop(0),c())};App.modules.exports("windowNotifier",{init:function(){t(u),n.load(s).scroll(c).on("orientationchange",r),t.ios||n.resize(i),o.on("visibilitychange webkitvisibilitychange",l)},actions:function(){return{window:{scrollTop:d}}}})}(jQuery),function(c,t){"use strict";var s=c(window),l=c("body"),o=!1,a=!1,i=null,r=function(t,e){var n=c("#bg-transition",l),o=t.currentPage,a=t.nextPage,i=c(a.key()),r=c(o.key());o.leave(t.leaveCurrent,{canRemove:!0}),r.attr("aria-hidden","true").attr("role","presentation"),i.removeAttr("aria-hidden").removeAttr("role"),l.addClass(a.key().substring(1)),App.modules.notify("page.entering",{page:a,route:t.route}),i.ready(function(){r.hide(),i.css({opacity:1,display:"block"}),s.scrollTop(0),a.enter(t.enterNext),n.fadeOut(90).promise().then(function(){App.modules.notify("transition.end",{page:a,route:t.route}),App.mediator.notify("site.addScroll")}),App.callback(e)})};App.transitions.exports({beginTransition:function(t){var e=c("#bg-transition",l),n=t.currentPage;a=o=!1,i=null,e.fadeIn(90).promise().then(function(){l.removeClass(n.key().substring(1)),App.modules.notify("page.leaving",{page:n,canRemove:!0}),o=!0,a&&r(i)})},transition:function(t,e){a=!0,i=t,o&&r(t,e)},canAnimate:function(t){return!0}})}(jQuery),function(t,e){"use strict";t(window),t("body"),t("#site-pages"),t("#bg-transition"),t("#bg-transition-popup")}(jQuery),function(e,t,n){"use strict";App.pages.exports("default-detail-page",function(){var n,o=App.components.create("articleChanger"),a=!0,t=function(t,e){var n=e||"";a?a=!1:o.navigateTo(n.split("?")[0].split("/")[0])};return{init:function(){n=e(this.key()),o.init(n,{startPageHandle:n.find(".js-article").attr("data-handle"),scrollToTop:!0})},leave:function(t,e){e.canRemove&&n.remove(),App.callback(t)},actions:function(){return{page:{fragmentChanged:t}}}}})}(jQuery,window),function(t,e,n){"use strict";App.pages.exports("default-page",function(){return{init:function(){t(this.key())},enter:function(t){App.callback(t)},actions:function(){return{}}}})}(jQuery,window),function(a,t,e){"use strict";var i="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,r=function(t){return~~(!t||a.isNumeric(t)?t||0:t)},o=function(t){return!t||a.isNumeric(t)?~~(t||0)+"px":t};t.CSS3={translate:function(t,e,n){return t=o(t),e=o(e),n=o(n),"translate"+(i?"3d(":"(")+t+","+e+(i?","+n+")":")")},rotate:function(t,e,n,o){t=r(t),e=r(e),n=r(n),o=!o||a.isNumeric(o)?(o||0)+"deg":o;return"rotate"+(i?"3d("+t+","+e+","+n+",":"Z(")+o+")"},skew:function(t,e,n){return n||(n="deg"),"deg"!==n&&"rad"!==n&&"turn"!==n?(App.log("css3-generator.getSkew allow only deg, rad and turn unit"),null):(t=parseFloat(t),e=parseFloat(e),0!==t&&0!==e?"skew("+t+n+","+e+n+")":0!==e?"skewY("+e+n+")":"skewX("+t+n+")")},prefix:function(t,e){var n={};return null!==e&&(n[t]=e,n["-webkit-"+t]=e,n["-moz-"+t]=e,n["-ms-"+t]=e,n["-o-"+t]=e),n}}}(jQuery,window),function(t,e){"use strict";var n="disabled";t.fn.disable=function(){return t(this).attr(n,n).addClass(n)},t.fn.enable=function(){return t(this).removeAttr(n).removeClass(n)}}(jQuery),function(l){"use strict";var c=l("html"),u=c.attr("lang"),s=function(){var n=[];l.each(arguments,function(t,e){e=l.isPlainObject(e)?JSON.stringify(e,null,2):'"'+e+'"',n.push(e)}),App.log({args:["%cga("+n.join(",")+");","color:cornflowerblue"]})},d=function(){return window.dataLayer&&window.dataLayer.push?function(t,e,n,o,a,i,r,c){if("pageview"===e)dataLayer.push(l.extend({},n,{event:e,page:{requestURI:n.page||n.location,page:n.page,location:n.location,language:u,referer:document.referrer,title:document.title}}));else if("event"===e){var s={event:e,eventCategory:c||n,eventAction:o,eventLabel:a,eventValue:i,eventOptions:r};l.isPlainObject(n)&&((s=l.extend(!0,{},s,n)).eventCategory=s.eventCategory||s.event,s.event=e),dataLayer.push(s)}}:window.ga||s};l.sendPageView=function(t){var e=d(),n={page:window.location.pathname+window.location.search,location:window.location.href,hostname:window.location.hostname},o=t?l.extend(n,t):n;l.isFunction(l.formatPage)&&(o.page=l.formatPage(o.page)),l.isFunction(l.formatLocation)&&(o.location=l.formatLocation(o.location)),c.filter("[data-no-ga]").length?s("sendPageView bypassed by attribute"):e("send","pageview",o)},l.sendEvent=function(t,e,n,o,a,i){var r=d();a=(t=t||"").options||a||{nonInteraction:1},c.filter("[data-no-ga]").length?s("sendEvent bypassed by attribute"):r("send","event",t,e,n,o,a,i)};var a=function(t,e){return t.attr(e)||void 0};l.fn.sendClickEvent=function(t){t=t||{};var e=l(this).eq(0),n=!0;if(t.action||(t.action="click"),t.label||(t.label=l.trim(e.text())),t.event&&(t.event.gaHandled?n=!1:t.event.gaHandled=!0),n){var o=l.extend({},t,{cat:a(e,"data-ga-cat"),category:a(e,"data-ga-category"),action:a(e,"data-ga-action"),label:a(e,"data-ga-label"),value:parseInt(e.attr("data-ga-value"),10)||void 0});o.cat||(App.log({fx:"err",args:"No ga-cat found. Cannot continue."}),n=!1),o.label||App.log({fx:"warn",args:"No ga-label found. Reverting to text"}),n&&l.sendEvent(o.cat,o.action,o.label,o.value,void 0,o.category)}},l(function(){var t=window.location,n=t.origin||t.protocol+"//"+t.hostname,e=':not([href^="'+n+'"])',o='a[href^="http://"]'+e+', a[href^="https://"]'+e,a=_.map(["pdf","jpg","jpeg","png","doc","docx","xsl","xslx"],function(t){return'a[href$=".'+t+'"], '}).join("")+'a[href$="?dl"], a[download]',i=function(t){var e=l(t).attr("href");if(e)return e=(e=(e=e.replace(/^mailto:/,"")).replace(/^tel:/,"")).replace(n,"")};l("#site").on(App.device.events.click,o,function(t){l(this).sendClickEvent({cat:"link-external",label:i(this),event:t})}).on(App.device.events.click,a,function(t){l(this).sendClickEvent({cat:"link-download",label:i(this),event:t})}).on(App.device.events.click,'a[href^="mailto:"]',function(t){l(this).sendClickEvent({cat:"link-mailto",label:i(this),event:t})}).on(App.device.events.click,'a[href^="tel:"]',function(t){l(this).sendClickEvent({cat:"link-tel",label:i(this),event:t})}).on(App.device.events.click,"[data-ga-cat]",function(t){l(this).sendClickEvent({event:t})}),l("body").hasClass("page-404")&&l.sendEvent("erreur 404","erreur 404",document.referrer)})}(jQuery),function(s,t){"use strict";var l="add-class-timer",a=[],i=function(n){a.length&&s.each(a,function(t,e){e&&n.call(this,e,t)})};window.App&&!window.App.debug()||(s.transitionsQueue=function(){return a}),s("body").on("transitionend webkitTransitionEnd oTransitionEnd mozTransitionEnd MSTransitionEnd",function(e){var o=s(e.target);i(function(n,t){s.each(n.selectors,function(t,e){n.selectors[t]=e||o.is(t)}),window._.every(n.selectors)&&(a.splice(t,1),n.callback.call(n.context,e))})}),s.fn.transitionEnd=function(t,e){var n=s(this),o={selectors:{},callback:t,context:this,timestamp:s.now()};if(e&&!s.isArray(e)&&(e=[e]),e&&e.length)s.each(e,function(t,e){e?o.selectors[e]=!1:App.debug()&&console.warn("Element %s has no selector",t)});else{if(!n.selector)return App.debug()&&console.warn("Element %s has no selector",this),n;o.selectors[n.selector]=!1}return a.push(o),n},s.removeFromTransition=function(n){var o=!1;return n&&(s.isArray(n)||(n=[n]),i(function(t,e){if(t&&t.selectors){window._.some(t.selectors,function(t,e){return!!~s.inArray(e,n)})&&(a.splice(e,1),o=!0)}})),o},s.fn.addClasses=function(a,i,r,c){var t=s(this);return t.length?(c=c||[t.selector],t.each(function(t,e){var o=s(e),n=o.data(l);clearTimeout(n),o.addClass(a),n=setTimeout(function(t,e,n){o.hasClass(a)&&(s.isFunction(e)&&o.transitionEnd(e,n),o.addClass(t))},100,i,r,c),o.data(l,n)})):t},s.fn.removeClasses=function(o,a,i,r){var t=s(this);return t.length?(r=r||t.selector,t.each(function(t,e){var n=s(e);n.transitionEnd(function(){n.removeClass(o),s.isFunction(i)&&i()},r),n.removeClass(a)})):t}}(jQuery);
//# sourceMappingURL=framework-modules.min.js.map